"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/xumm-js-pkce";
exports.ids = ["vendor-chunks/xumm-js-pkce"];
exports.modules = {

/***/ "(ssr)/./node_modules/xumm-js-pkce/dist/PKCE.js":
/*!************************************************!*\
  !*** ./node_modules/xumm-js-pkce/dist/PKCE.js ***!
  \************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nvar sha256_1 = __importDefault(__webpack_require__(/*! crypto-js/sha256 */ \"(ssr)/./node_modules/crypto-js/sha256.js\"));\nvar enc_base64_1 = __importDefault(__webpack_require__(/*! crypto-js/enc-base64 */ \"(ssr)/./node_modules/crypto-js/enc-base64.js\"));\nvar lib_typedarrays_1 = __importDefault(__webpack_require__(/*! crypto-js/lib-typedarrays */ \"(ssr)/./node_modules/crypto-js/lib-typedarrays.js\"));\nvar PKCE = /** @class */ (function () {\n    /**\n     * Initialize the instance with configuration\n     * @param {IConfig} config\n     */\n    function PKCE(config) {\n        this.state = '';\n        this.codeVerifier = '';\n        this.config = config;\n    }\n    /**\n     * Generate the authorize url\n     * @param  {object} additionalParams include additional parameters in the query\n     * @return Promise<string>\n     */\n    PKCE.prototype.authorizeUrl = function (additionalParams) {\n        var _a, _b;\n        if (additionalParams === void 0) { additionalParams = {}; }\n        var queryString = new URLSearchParams(Object.assign(__assign({ response_type: ((_a = this.config) === null || _a === void 0 ? void 0 : _a.implicit) ? 'token' : 'code', client_id: this.config.client_id, state: this.getState(additionalParams.state || null), scope: this.config.requested_scopes, redirect_uri: this.config.redirect_uri }, (((_b = this.config) === null || _b === void 0 ? void 0 : _b.implicit)\n            ? {}\n            : {\n                code_challenge: this.pkceChallengeFromVerifier(),\n                code_challenge_method: 'S256',\n            })), additionalParams)).toString();\n        return \"\".concat(this.config.authorization_endpoint, \"?\").concat(queryString);\n    };\n    /**\n     * Given the return url, get a token from the oauth server\n     * @param  url current urlwith params from server\n     * @param  {object} additionalParams include additional parameters in the request body\n     * @return {Promise<ITokenResponse>}\n     */\n    PKCE.prototype.exchangeForAccessToken = function (url, additionalParams) {\n        var _this = this;\n        if (additionalParams === void 0) { additionalParams = {}; }\n        return this.parseAuthResponseUrl(url).then(function (q) {\n            var _a, _b;\n            if ((_a = _this.config) === null || _a === void 0 ? void 0 : _a.implicit) {\n                var tokenResponse_1 = {\n                    access_token: '',\n                    expires_in: 0,\n                    refresh_expires_in: 0,\n                    refresh_token: '',\n                    scope: '',\n                    token_type: '',\n                };\n                var urlParams = new URL(url).searchParams;\n                urlParams.forEach(function (val, key) {\n                    if (Object.keys(tokenResponse_1).indexOf(key) > -1) {\n                        tokenResponse_1[key] = typeof tokenResponse_1[key] === 'number' ? Number(val) : String(val);\n                    }\n                });\n                return Promise.resolve(Object.assign(tokenResponse_1, additionalParams));\n            }\n            // Regular PKCE, not implicit\n            return fetch(_this.config.token_endpoint, {\n                method: 'POST',\n                body: new URLSearchParams(Object.assign(__assign({ grant_type: 'authorization_code', code: q.code, client_id: _this.config.client_id, redirect_uri: _this.config.redirect_uri }, (((_b = _this.config) === null || _b === void 0 ? void 0 : _b.implicit)\n                    ? {}\n                    : {\n                        code_verifier: _this.getCodeVerifier(),\n                    })), additionalParams)),\n                headers: {\n                    Accept: 'application/json',\n                    'Content-Type': 'application/x-www-form-urlencoded;charset=UTF-8',\n                },\n            }).then(function (response) { return response.json(); });\n        });\n    };\n    /**\n     * Get the current codeVerifier or generate a new one\n     * @return {string}\n     */\n    PKCE.prototype.getCodeVerifier = function () {\n        if (this.codeVerifier === '') {\n            this.codeVerifier = this.randomStringFromStorage('pkce_code_verifier');\n        }\n        return this.codeVerifier;\n    };\n    /**\n     * Get the current state or generate a new one\n     * @return {string}\n     */\n    PKCE.prototype.getState = function (explicit) {\n        if (explicit === void 0) { explicit = null; }\n        var stateKey = 'pkce_state';\n        if (explicit !== null) {\n            this.getStore().setItem(stateKey, explicit);\n        }\n        if (this.state === '') {\n            this.state = this.randomStringFromStorage(stateKey);\n        }\n        return this.state;\n    };\n    /**\n     * Get the query params as json from a auth response url\n     * @param  {string} url a url expected to have AuthResponse params\n     * @return {Promise<IAuthResponse>}\n     */\n    PKCE.prototype.parseAuthResponseUrl = function (url) {\n        var params = new URL(url).searchParams;\n        return this.validateAuthResponse({\n            error: params.get('error'),\n            query: params.get('query'),\n            state: params.get('state'),\n            code: params.get('code'),\n        });\n    };\n    /**\n     * Generate a code challenge\n     * @return {Promise<string>}\n     */\n    PKCE.prototype.pkceChallengeFromVerifier = function () {\n        var hashed = (0, sha256_1.default)(this.getCodeVerifier());\n        return enc_base64_1.default.stringify(hashed).replace(/\\+/g, '-').replace(/\\//g, '_').replace(/=+$/, '');\n    };\n    /**\n     * Get a random string from storage or store a new one and return it's value\n     * @param  {string} key\n     * @return {string}\n     */\n    PKCE.prototype.randomStringFromStorage = function (key) {\n        var fromStorage = this.getStore().getItem(key);\n        if (fromStorage === null) {\n            this.getStore().setItem(key, lib_typedarrays_1.default.random(64));\n        }\n        return this.getStore().getItem(key) || '';\n    };\n    /**\n     * Validates params from auth response\n     * @param  {AuthResponse} queryParams\n     * @return {Promise<IAuthResponse>}\n     */\n    PKCE.prototype.validateAuthResponse = function (queryParams) {\n        var _this = this;\n        return new Promise(function (resolve, reject) {\n            var _a;\n            if (queryParams.error) {\n                return reject({ error: queryParams.error });\n            }\n            if (queryParams.state !== _this.getState() && !((_a = _this.config) === null || _a === void 0 ? void 0 : _a.implicit)) {\n                return reject({ error: 'Invalid State' });\n            }\n            return resolve(queryParams);\n        });\n    };\n    /**\n     * Get the storage (sessionStorage / localStorage) to use, defaults to sessionStorage\n     * @return {Storage}\n     */\n    PKCE.prototype.getStore = function () {\n        var _a;\n        return ((_a = this.config) === null || _a === void 0 ? void 0 : _a.storage) || sessionStorage;\n    };\n    return PKCE;\n}());\nexports[\"default\"] = PKCE;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMveHVtbS1qcy1wa2NlL2Rpc3QvUEtDRS5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiO0FBQ0E7QUFDQSxpREFBaUQsT0FBTztBQUN4RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2Q0FBNkM7QUFDN0M7QUFDQSw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsK0JBQStCLG1CQUFPLENBQUMsa0VBQWtCO0FBQ3pELG1DQUFtQyxtQkFBTyxDQUFDLDBFQUFzQjtBQUNqRSx3Q0FBd0MsbUJBQU8sQ0FBQyxvRkFBMkI7QUFDM0U7QUFDQTtBQUNBO0FBQ0EsZUFBZSxTQUFTO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsUUFBUTtBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJDQUEyQztBQUMzQyx1RUFBdUUsOFFBQThRO0FBQ3JWO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsUUFBUTtBQUN4QixnQkFBZ0I7QUFDaEI7QUFDQTtBQUNBO0FBQ0EsMkNBQTJDO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtRUFBbUUsNEhBQTRIO0FBQy9MO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0EsdUVBQXVFO0FBQ3ZFLGlCQUFpQjtBQUNqQixhQUFhLDZCQUE2Qix5QkFBeUI7QUFDbkUsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQjtBQUNoQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0I7QUFDaEI7QUFDQTtBQUNBLG1DQUFtQztBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLFFBQVE7QUFDeEIsZ0JBQWdCO0FBQ2hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCO0FBQ2hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLFFBQVE7QUFDeEIsZ0JBQWdCO0FBQ2hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLGNBQWM7QUFDOUIsZ0JBQWdCO0FBQ2hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQywwQkFBMEI7QUFDMUQ7QUFDQTtBQUNBLGdDQUFnQyx3QkFBd0I7QUFDeEQ7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0I7QUFDaEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNELGtCQUFlIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbWljcm9sZW5kZXIvLi9ub2RlX21vZHVsZXMveHVtbS1qcy1wa2NlL2Rpc3QvUEtDRS5qcz8wZjFlIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xudmFyIF9fYXNzaWduID0gKHRoaXMgJiYgdGhpcy5fX2Fzc2lnbikgfHwgZnVuY3Rpb24gKCkge1xuICAgIF9fYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbih0KSB7XG4gICAgICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xuICAgICAgICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSlcbiAgICAgICAgICAgICAgICB0W3BdID0gc1twXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdDtcbiAgICB9O1xuICAgIHJldHVybiBfX2Fzc2lnbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufTtcbnZhciBfX2ltcG9ydERlZmF1bHQgPSAodGhpcyAmJiB0aGlzLl9faW1wb3J0RGVmYXVsdCkgfHwgZnVuY3Rpb24gKG1vZCkge1xuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgXCJkZWZhdWx0XCI6IG1vZCB9O1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBzaGEyNTZfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiY3J5cHRvLWpzL3NoYTI1NlwiKSk7XG52YXIgZW5jX2Jhc2U2NF8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCJjcnlwdG8tanMvZW5jLWJhc2U2NFwiKSk7XG52YXIgbGliX3R5cGVkYXJyYXlzXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcImNyeXB0by1qcy9saWItdHlwZWRhcnJheXNcIikpO1xudmFyIFBLQ0UgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogSW5pdGlhbGl6ZSB0aGUgaW5zdGFuY2Ugd2l0aCBjb25maWd1cmF0aW9uXG4gICAgICogQHBhcmFtIHtJQ29uZmlnfSBjb25maWdcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBQS0NFKGNvbmZpZykge1xuICAgICAgICB0aGlzLnN0YXRlID0gJyc7XG4gICAgICAgIHRoaXMuY29kZVZlcmlmaWVyID0gJyc7XG4gICAgICAgIHRoaXMuY29uZmlnID0gY29uZmlnO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZW5lcmF0ZSB0aGUgYXV0aG9yaXplIHVybFxuICAgICAqIEBwYXJhbSAge29iamVjdH0gYWRkaXRpb25hbFBhcmFtcyBpbmNsdWRlIGFkZGl0aW9uYWwgcGFyYW1ldGVycyBpbiB0aGUgcXVlcnlcbiAgICAgKiBAcmV0dXJuIFByb21pc2U8c3RyaW5nPlxuICAgICAqL1xuICAgIFBLQ0UucHJvdG90eXBlLmF1dGhvcml6ZVVybCA9IGZ1bmN0aW9uIChhZGRpdGlvbmFsUGFyYW1zKSB7XG4gICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgIGlmIChhZGRpdGlvbmFsUGFyYW1zID09PSB2b2lkIDApIHsgYWRkaXRpb25hbFBhcmFtcyA9IHt9OyB9XG4gICAgICAgIHZhciBxdWVyeVN0cmluZyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoT2JqZWN0LmFzc2lnbihfX2Fzc2lnbih7IHJlc3BvbnNlX3R5cGU6ICgoX2EgPSB0aGlzLmNvbmZpZykgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmltcGxpY2l0KSA/ICd0b2tlbicgOiAnY29kZScsIGNsaWVudF9pZDogdGhpcy5jb25maWcuY2xpZW50X2lkLCBzdGF0ZTogdGhpcy5nZXRTdGF0ZShhZGRpdGlvbmFsUGFyYW1zLnN0YXRlIHx8IG51bGwpLCBzY29wZTogdGhpcy5jb25maWcucmVxdWVzdGVkX3Njb3BlcywgcmVkaXJlY3RfdXJpOiB0aGlzLmNvbmZpZy5yZWRpcmVjdF91cmkgfSwgKCgoX2IgPSB0aGlzLmNvbmZpZykgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLmltcGxpY2l0KVxuICAgICAgICAgICAgPyB7fVxuICAgICAgICAgICAgOiB7XG4gICAgICAgICAgICAgICAgY29kZV9jaGFsbGVuZ2U6IHRoaXMucGtjZUNoYWxsZW5nZUZyb21WZXJpZmllcigpLFxuICAgICAgICAgICAgICAgIGNvZGVfY2hhbGxlbmdlX21ldGhvZDogJ1MyNTYnLFxuICAgICAgICAgICAgfSkpLCBhZGRpdGlvbmFsUGFyYW1zKSkudG9TdHJpbmcoKTtcbiAgICAgICAgcmV0dXJuIFwiXCIuY29uY2F0KHRoaXMuY29uZmlnLmF1dGhvcml6YXRpb25fZW5kcG9pbnQsIFwiP1wiKS5jb25jYXQocXVlcnlTdHJpbmcpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2l2ZW4gdGhlIHJldHVybiB1cmwsIGdldCBhIHRva2VuIGZyb20gdGhlIG9hdXRoIHNlcnZlclxuICAgICAqIEBwYXJhbSAgdXJsIGN1cnJlbnQgdXJsd2l0aCBwYXJhbXMgZnJvbSBzZXJ2ZXJcbiAgICAgKiBAcGFyYW0gIHtvYmplY3R9IGFkZGl0aW9uYWxQYXJhbXMgaW5jbHVkZSBhZGRpdGlvbmFsIHBhcmFtZXRlcnMgaW4gdGhlIHJlcXVlc3QgYm9keVxuICAgICAqIEByZXR1cm4ge1Byb21pc2U8SVRva2VuUmVzcG9uc2U+fVxuICAgICAqL1xuICAgIFBLQ0UucHJvdG90eXBlLmV4Y2hhbmdlRm9yQWNjZXNzVG9rZW4gPSBmdW5jdGlvbiAodXJsLCBhZGRpdGlvbmFsUGFyYW1zKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlmIChhZGRpdGlvbmFsUGFyYW1zID09PSB2b2lkIDApIHsgYWRkaXRpb25hbFBhcmFtcyA9IHt9OyB9XG4gICAgICAgIHJldHVybiB0aGlzLnBhcnNlQXV0aFJlc3BvbnNlVXJsKHVybCkudGhlbihmdW5jdGlvbiAocSkge1xuICAgICAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgICAgIGlmICgoX2EgPSBfdGhpcy5jb25maWcpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5pbXBsaWNpdCkge1xuICAgICAgICAgICAgICAgIHZhciB0b2tlblJlc3BvbnNlXzEgPSB7XG4gICAgICAgICAgICAgICAgICAgIGFjY2Vzc190b2tlbjogJycsXG4gICAgICAgICAgICAgICAgICAgIGV4cGlyZXNfaW46IDAsXG4gICAgICAgICAgICAgICAgICAgIHJlZnJlc2hfZXhwaXJlc19pbjogMCxcbiAgICAgICAgICAgICAgICAgICAgcmVmcmVzaF90b2tlbjogJycsXG4gICAgICAgICAgICAgICAgICAgIHNjb3BlOiAnJyxcbiAgICAgICAgICAgICAgICAgICAgdG9rZW5fdHlwZTogJycsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB2YXIgdXJsUGFyYW1zID0gbmV3IFVSTCh1cmwpLnNlYXJjaFBhcmFtcztcbiAgICAgICAgICAgICAgICB1cmxQYXJhbXMuZm9yRWFjaChmdW5jdGlvbiAodmFsLCBrZXkpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKE9iamVjdC5rZXlzKHRva2VuUmVzcG9uc2VfMSkuaW5kZXhPZihrZXkpID4gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRva2VuUmVzcG9uc2VfMVtrZXldID0gdHlwZW9mIHRva2VuUmVzcG9uc2VfMVtrZXldID09PSAnbnVtYmVyJyA/IE51bWJlcih2YWwpIDogU3RyaW5nKHZhbCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKE9iamVjdC5hc3NpZ24odG9rZW5SZXNwb25zZV8xLCBhZGRpdGlvbmFsUGFyYW1zKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBSZWd1bGFyIFBLQ0UsIG5vdCBpbXBsaWNpdFxuICAgICAgICAgICAgcmV0dXJuIGZldGNoKF90aGlzLmNvbmZpZy50b2tlbl9lbmRwb2ludCwge1xuICAgICAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgICAgICAgIGJvZHk6IG5ldyBVUkxTZWFyY2hQYXJhbXMoT2JqZWN0LmFzc2lnbihfX2Fzc2lnbih7IGdyYW50X3R5cGU6ICdhdXRob3JpemF0aW9uX2NvZGUnLCBjb2RlOiBxLmNvZGUsIGNsaWVudF9pZDogX3RoaXMuY29uZmlnLmNsaWVudF9pZCwgcmVkaXJlY3RfdXJpOiBfdGhpcy5jb25maWcucmVkaXJlY3RfdXJpIH0sICgoKF9iID0gX3RoaXMuY29uZmlnKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuaW1wbGljaXQpXG4gICAgICAgICAgICAgICAgICAgID8ge31cbiAgICAgICAgICAgICAgICAgICAgOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlX3ZlcmlmaWVyOiBfdGhpcy5nZXRDb2RlVmVyaWZpZXIoKSxcbiAgICAgICAgICAgICAgICAgICAgfSkpLCBhZGRpdGlvbmFsUGFyYW1zKSksXG4gICAgICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICAgICAgICBBY2NlcHQ6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQ7Y2hhcnNldD1VVEYtOCcsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7IHJldHVybiByZXNwb25zZS5qc29uKCk7IH0pO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgY3VycmVudCBjb2RlVmVyaWZpZXIgb3IgZ2VuZXJhdGUgYSBuZXcgb25lXG4gICAgICogQHJldHVybiB7c3RyaW5nfVxuICAgICAqL1xuICAgIFBLQ0UucHJvdG90eXBlLmdldENvZGVWZXJpZmllciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuY29kZVZlcmlmaWVyID09PSAnJykge1xuICAgICAgICAgICAgdGhpcy5jb2RlVmVyaWZpZXIgPSB0aGlzLnJhbmRvbVN0cmluZ0Zyb21TdG9yYWdlKCdwa2NlX2NvZGVfdmVyaWZpZXInKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5jb2RlVmVyaWZpZXI7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGN1cnJlbnQgc3RhdGUgb3IgZ2VuZXJhdGUgYSBuZXcgb25lXG4gICAgICogQHJldHVybiB7c3RyaW5nfVxuICAgICAqL1xuICAgIFBLQ0UucHJvdG90eXBlLmdldFN0YXRlID0gZnVuY3Rpb24gKGV4cGxpY2l0KSB7XG4gICAgICAgIGlmIChleHBsaWNpdCA9PT0gdm9pZCAwKSB7IGV4cGxpY2l0ID0gbnVsbDsgfVxuICAgICAgICB2YXIgc3RhdGVLZXkgPSAncGtjZV9zdGF0ZSc7XG4gICAgICAgIGlmIChleHBsaWNpdCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5nZXRTdG9yZSgpLnNldEl0ZW0oc3RhdGVLZXksIGV4cGxpY2l0KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5zdGF0ZSA9PT0gJycpIHtcbiAgICAgICAgICAgIHRoaXMuc3RhdGUgPSB0aGlzLnJhbmRvbVN0cmluZ0Zyb21TdG9yYWdlKHN0YXRlS2V5KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5zdGF0ZTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgcXVlcnkgcGFyYW1zIGFzIGpzb24gZnJvbSBhIGF1dGggcmVzcG9uc2UgdXJsXG4gICAgICogQHBhcmFtICB7c3RyaW5nfSB1cmwgYSB1cmwgZXhwZWN0ZWQgdG8gaGF2ZSBBdXRoUmVzcG9uc2UgcGFyYW1zXG4gICAgICogQHJldHVybiB7UHJvbWlzZTxJQXV0aFJlc3BvbnNlPn1cbiAgICAgKi9cbiAgICBQS0NFLnByb3RvdHlwZS5wYXJzZUF1dGhSZXNwb25zZVVybCA9IGZ1bmN0aW9uICh1cmwpIHtcbiAgICAgICAgdmFyIHBhcmFtcyA9IG5ldyBVUkwodXJsKS5zZWFyY2hQYXJhbXM7XG4gICAgICAgIHJldHVybiB0aGlzLnZhbGlkYXRlQXV0aFJlc3BvbnNlKHtcbiAgICAgICAgICAgIGVycm9yOiBwYXJhbXMuZ2V0KCdlcnJvcicpLFxuICAgICAgICAgICAgcXVlcnk6IHBhcmFtcy5nZXQoJ3F1ZXJ5JyksXG4gICAgICAgICAgICBzdGF0ZTogcGFyYW1zLmdldCgnc3RhdGUnKSxcbiAgICAgICAgICAgIGNvZGU6IHBhcmFtcy5nZXQoJ2NvZGUnKSxcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZW5lcmF0ZSBhIGNvZGUgY2hhbGxlbmdlXG4gICAgICogQHJldHVybiB7UHJvbWlzZTxzdHJpbmc+fVxuICAgICAqL1xuICAgIFBLQ0UucHJvdG90eXBlLnBrY2VDaGFsbGVuZ2VGcm9tVmVyaWZpZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBoYXNoZWQgPSAoMCwgc2hhMjU2XzEuZGVmYXVsdCkodGhpcy5nZXRDb2RlVmVyaWZpZXIoKSk7XG4gICAgICAgIHJldHVybiBlbmNfYmFzZTY0XzEuZGVmYXVsdC5zdHJpbmdpZnkoaGFzaGVkKS5yZXBsYWNlKC9cXCsvZywgJy0nKS5yZXBsYWNlKC9cXC8vZywgJ18nKS5yZXBsYWNlKC89KyQvLCAnJyk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgYSByYW5kb20gc3RyaW5nIGZyb20gc3RvcmFnZSBvciBzdG9yZSBhIG5ldyBvbmUgYW5kIHJldHVybiBpdCdzIHZhbHVlXG4gICAgICogQHBhcmFtICB7c3RyaW5nfSBrZXlcbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd9XG4gICAgICovXG4gICAgUEtDRS5wcm90b3R5cGUucmFuZG9tU3RyaW5nRnJvbVN0b3JhZ2UgPSBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIHZhciBmcm9tU3RvcmFnZSA9IHRoaXMuZ2V0U3RvcmUoKS5nZXRJdGVtKGtleSk7XG4gICAgICAgIGlmIChmcm9tU3RvcmFnZSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5nZXRTdG9yZSgpLnNldEl0ZW0oa2V5LCBsaWJfdHlwZWRhcnJheXNfMS5kZWZhdWx0LnJhbmRvbSg2NCkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmdldFN0b3JlKCkuZ2V0SXRlbShrZXkpIHx8ICcnO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVmFsaWRhdGVzIHBhcmFtcyBmcm9tIGF1dGggcmVzcG9uc2VcbiAgICAgKiBAcGFyYW0gIHtBdXRoUmVzcG9uc2V9IHF1ZXJ5UGFyYW1zXG4gICAgICogQHJldHVybiB7UHJvbWlzZTxJQXV0aFJlc3BvbnNlPn1cbiAgICAgKi9cbiAgICBQS0NFLnByb3RvdHlwZS52YWxpZGF0ZUF1dGhSZXNwb25zZSA9IGZ1bmN0aW9uIChxdWVyeVBhcmFtcykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgaWYgKHF1ZXJ5UGFyYW1zLmVycm9yKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlamVjdCh7IGVycm9yOiBxdWVyeVBhcmFtcy5lcnJvciB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChxdWVyeVBhcmFtcy5zdGF0ZSAhPT0gX3RoaXMuZ2V0U3RhdGUoKSAmJiAhKChfYSA9IF90aGlzLmNvbmZpZykgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmltcGxpY2l0KSkge1xuICAgICAgICAgICAgICAgIHJldHVybiByZWplY3QoeyBlcnJvcjogJ0ludmFsaWQgU3RhdGUnIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHJlc29sdmUocXVlcnlQYXJhbXMpO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgc3RvcmFnZSAoc2Vzc2lvblN0b3JhZ2UgLyBsb2NhbFN0b3JhZ2UpIHRvIHVzZSwgZGVmYXVsdHMgdG8gc2Vzc2lvblN0b3JhZ2VcbiAgICAgKiBAcmV0dXJuIHtTdG9yYWdlfVxuICAgICAqL1xuICAgIFBLQ0UucHJvdG90eXBlLmdldFN0b3JlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIHJldHVybiAoKF9hID0gdGhpcy5jb25maWcpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5zdG9yYWdlKSB8fCBzZXNzaW9uU3RvcmFnZTtcbiAgICB9O1xuICAgIHJldHVybiBQS0NFO1xufSgpKTtcbmV4cG9ydHMuZGVmYXVsdCA9IFBLQ0U7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/xumm-js-pkce/dist/PKCE.js\n");

/***/ })

};
;