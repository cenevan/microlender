"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/xumm-sdk";
exports.ids = ["vendor-chunks/xumm-sdk"];
exports.modules = {

/***/ "(ssr)/./node_modules/xumm-sdk/dist/src/JwtUserdata.js":
/*!*******************************************************!*\
  !*** ./node_modules/xumm-sdk/dist/src/JwtUserdata.js ***!
  \*******************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.JwtUserdata = void 0;\nconst debug_1 = __webpack_require__(/*! debug */ \"(ssr)/./node_modules/debug/src/index.js\");\nconst utils_1 = __webpack_require__(/*! ./utils */ \"(ssr)/./node_modules/xumm-sdk/dist/src/utils.js\");\nconst log = debug_1.debug('xumm-sdk:xapp:userdata');\nconst validateKey = (key) => {\n    if (!(typeof key === 'string' && key.match(/^[a-z0-9]{3,}$/))) {\n        throw new Error('Invalid key, only a-z0-9 (min three chars) allowed: ' + key);\n    }\n};\nclass JwtUserdata {\n    constructor(MetaObject) {\n        log('Constructed');\n        this.Meta = MetaObject;\n    }\n    list() {\n        return __awaiter(this, void 0, void 0, function* () {\n            const call = yield this.Meta.call('userdata', 'GET');\n            utils_1.throwIfError(call);\n            return call.keys;\n        });\n    }\n    get(key) {\n        var _a;\n        return __awaiter(this, void 0, void 0, function* () {\n            const keys = Array.isArray(key) ? key.join(',') : key;\n            keys.split(',').forEach(k => validateKey(k));\n            const call = yield this.Meta.call('userdata/' + keys, 'GET');\n            utils_1.throwIfError(call);\n            return keys.split(',').length > 1 ? call.data : (((_a = call.data) === null || _a === void 0 ? void 0 : _a[keys]) || {});\n        });\n    }\n    delete(key) {\n        return __awaiter(this, void 0, void 0, function* () {\n            validateKey(key);\n            const call = yield this.Meta.call('userdata/' + key, 'DELETE');\n            utils_1.throwIfError(call);\n            return call.persisted;\n        });\n    }\n    set(key, data) {\n        return __awaiter(this, void 0, void 0, function* () {\n            validateKey(key);\n            const call = yield this.Meta.call('userdata/' + key, 'POST', data);\n            utils_1.throwIfError(call);\n            return call.persisted;\n        });\n    }\n}\nexports.JwtUserdata = JwtUserdata;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMveHVtbS1zZGsvZGlzdC9zcmMvSnd0VXNlcmRhdGEuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBLDRCQUE0QiwrREFBK0QsaUJBQWlCO0FBQzVHO0FBQ0Esb0NBQW9DLE1BQU0sK0JBQStCLFlBQVk7QUFDckYsbUNBQW1DLE1BQU0sbUNBQW1DLFlBQVk7QUFDeEYsZ0NBQWdDO0FBQ2hDO0FBQ0EsS0FBSztBQUNMO0FBQ0EsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELG1CQUFtQjtBQUNuQixnQkFBZ0IsbUJBQU8sQ0FBQyxzREFBTztBQUMvQixnQkFBZ0IsbUJBQU8sQ0FBQyxnRUFBUztBQUNqQztBQUNBO0FBQ0EsMERBQTBELEdBQUc7QUFDN0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1JQUFtSTtBQUNuSSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLG1CQUFtQiIsInNvdXJjZXMiOlsid2VicGFjazovL21pY3JvbGVuZGVyLy4vbm9kZV9tb2R1bGVzL3h1bW0tc2RrL2Rpc3Qvc3JjL0p3dFVzZXJkYXRhLmpzPzQ0MDUiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19hd2FpdGVyID0gKHRoaXMgJiYgdGhpcy5fX2F3YWl0ZXIpIHx8IGZ1bmN0aW9uICh0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcbiAgICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQID8gdmFsdWUgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHZhbHVlKTsgfSk7IH1cbiAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cbiAgICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xuICAgIH0pO1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuSnd0VXNlcmRhdGEgPSB2b2lkIDA7XG5jb25zdCBkZWJ1Z18xID0gcmVxdWlyZShcImRlYnVnXCIpO1xuY29uc3QgdXRpbHNfMSA9IHJlcXVpcmUoXCIuL3V0aWxzXCIpO1xuY29uc3QgbG9nID0gZGVidWdfMS5kZWJ1ZygneHVtbS1zZGs6eGFwcDp1c2VyZGF0YScpO1xuY29uc3QgdmFsaWRhdGVLZXkgPSAoa2V5KSA9PiB7XG4gICAgaWYgKCEodHlwZW9mIGtleSA9PT0gJ3N0cmluZycgJiYga2V5Lm1hdGNoKC9eW2EtejAtOV17Myx9JC8pKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQga2V5LCBvbmx5IGEtejAtOSAobWluIHRocmVlIGNoYXJzKSBhbGxvd2VkOiAnICsga2V5KTtcbiAgICB9XG59O1xuY2xhc3MgSnd0VXNlcmRhdGEge1xuICAgIGNvbnN0cnVjdG9yKE1ldGFPYmplY3QpIHtcbiAgICAgICAgbG9nKCdDb25zdHJ1Y3RlZCcpO1xuICAgICAgICB0aGlzLk1ldGEgPSBNZXRhT2JqZWN0O1xuICAgIH1cbiAgICBsaXN0KCkge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgY29uc3QgY2FsbCA9IHlpZWxkIHRoaXMuTWV0YS5jYWxsKCd1c2VyZGF0YScsICdHRVQnKTtcbiAgICAgICAgICAgIHV0aWxzXzEudGhyb3dJZkVycm9yKGNhbGwpO1xuICAgICAgICAgICAgcmV0dXJuIGNhbGwua2V5cztcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGdldChrZXkpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgY29uc3Qga2V5cyA9IEFycmF5LmlzQXJyYXkoa2V5KSA/IGtleS5qb2luKCcsJykgOiBrZXk7XG4gICAgICAgICAgICBrZXlzLnNwbGl0KCcsJykuZm9yRWFjaChrID0+IHZhbGlkYXRlS2V5KGspKTtcbiAgICAgICAgICAgIGNvbnN0IGNhbGwgPSB5aWVsZCB0aGlzLk1ldGEuY2FsbCgndXNlcmRhdGEvJyArIGtleXMsICdHRVQnKTtcbiAgICAgICAgICAgIHV0aWxzXzEudGhyb3dJZkVycm9yKGNhbGwpO1xuICAgICAgICAgICAgcmV0dXJuIGtleXMuc3BsaXQoJywnKS5sZW5ndGggPiAxID8gY2FsbC5kYXRhIDogKCgoX2EgPSBjYWxsLmRhdGEpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYVtrZXlzXSkgfHwge30pO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgZGVsZXRlKGtleSkge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgdmFsaWRhdGVLZXkoa2V5KTtcbiAgICAgICAgICAgIGNvbnN0IGNhbGwgPSB5aWVsZCB0aGlzLk1ldGEuY2FsbCgndXNlcmRhdGEvJyArIGtleSwgJ0RFTEVURScpO1xuICAgICAgICAgICAgdXRpbHNfMS50aHJvd0lmRXJyb3IoY2FsbCk7XG4gICAgICAgICAgICByZXR1cm4gY2FsbC5wZXJzaXN0ZWQ7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBzZXQoa2V5LCBkYXRhKSB7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICB2YWxpZGF0ZUtleShrZXkpO1xuICAgICAgICAgICAgY29uc3QgY2FsbCA9IHlpZWxkIHRoaXMuTWV0YS5jYWxsKCd1c2VyZGF0YS8nICsga2V5LCAnUE9TVCcsIGRhdGEpO1xuICAgICAgICAgICAgdXRpbHNfMS50aHJvd0lmRXJyb3IoY2FsbCk7XG4gICAgICAgICAgICByZXR1cm4gY2FsbC5wZXJzaXN0ZWQ7XG4gICAgICAgIH0pO1xuICAgIH1cbn1cbmV4cG9ydHMuSnd0VXNlcmRhdGEgPSBKd3RVc2VyZGF0YTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/xumm-sdk/dist/src/JwtUserdata.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/xumm-sdk/dist/src/Meta.js":
/*!************************************************!*\
  !*** ./node_modules/xumm-sdk/dist/src/Meta.js ***!
  \************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Meta = void 0;\nconst debug_1 = __webpack_require__(/*! debug */ \"(ssr)/./node_modules/debug/src/index.js\");\nconst fetch_ponyfill_1 = __importDefault(__webpack_require__(/*! fetch-ponyfill */ \"(ssr)/./node_modules/fetch-ponyfill/fetch-node.js\"));\nconst { fetch, Request, Response, Headers } = fetch_ponyfill_1.default();\nconst os_browserify_1 = __webpack_require__(/*! os-browserify */ \"(ssr)/./node_modules/os-browserify/main.js\");\nconst utils_1 = __webpack_require__(/*! ./utils */ \"(ssr)/./node_modules/xumm-sdk/dist/src/utils.js\");\nconst index_1 = __webpack_require__(/*! ./index */ \"(ssr)/./node_modules/xumm-sdk/dist/src/index.js\");\nconst log = debug_1.debug('xumm-sdk:meta');\nclass Meta {\n    constructor(apiKey, apiSecret) {\n        this.isBrowser = false;\n        this.jwtFlow = false;\n        // Dependency injection: parent\n        this.injected = false;\n        this.endpoint = 'https://xumm.app';\n        log('Constructed');\n        const uuidRe = new RegExp('^[a-f0-9]{8}\\-[a-f0-9]{4}\\-[a-f0-9]{4}\\-[a-f0-9]{4}\\-[a-f0-9]{12}$');\n        const secret = {\n            split: apiSecret.split(':'),\n            uuidv4: ''\n        };\n        if (secret.split.length === 3 && secret.split.slice(0, 2).join(':') === 'xApp:OneTimeToken') {\n            // xApp JWT flow\n            secret.uuidv4 = secret.split[2];\n            this.jwtFlow = true;\n        }\n        else if (secret.split.length > 1 && secret.split[0] === 'RAWJWT') {\n            this.jwtFlow = true;\n            this.jwt = secret.split.slice(1).join(':');\n        }\n        else {\n            // Regular SDK/API calls\n            secret.uuidv4 = apiSecret;\n        }\n        if (!uuidRe.test(apiKey) || !uuidRe.test(secret.uuidv4)) {\n            if (!this.jwtFlow) {\n                throw new Error('Invalid API Key and/or API Secret. Use dotenv or constructor params.');\n            }\n            else {\n                if (!this.jwt) {\n                    throw new Error('Invalid API Key and/or OTT (One Time Token). ' +\n                        'Provide OTT param (2nd param) or make sure `xAppToken` query param is present (Browser)');\n                }\n            }\n        }\n        if (typeof globalThis !== 'undefined' && Object.keys(globalThis).indexOf('window') < 0) {\n            log('Running in node');\n        }\n        else {\n            console.log('XUMM SDK: Running in browser');\n            this.isBrowser = true;\n        }\n        this.apiKey = apiKey;\n        this.apiSecret = secret.uuidv4;\n        if (this.jwtFlow && !this.jwt) {\n            // Allow calls to wait for JWT\n            this.authPromise = new Promise(resolve => {\n                this.authPromiseResolve = resolve;\n            });\n            // Eventloop: wait for _inject @ index.ts (XummSdk Constructor) to have happened\n            Promise.resolve()\n                .then(() => this.authorize())\n                .catch(e => {\n                log('Authorize error:', e.message);\n                if (this === null || this === void 0 ? void 0 : this.invoker) {\n                    this.invoker.caught(e);\n                }\n                if (this.authPromiseResolve) {\n                    this.authPromiseResolve();\n                }\n            });\n        }\n        return this;\n    }\n    setEndpoint(endpoint) {\n        if (endpoint.match(/^http/)) {\n            this.endpoint = endpoint.trim();\n            return true;\n        }\n        return false;\n    }\n    authorize() {\n        var _a, _b, _c, _d;\n        return __awaiter(this, void 0, void 0, function* () {\n            log('JWT Authorize', this.apiSecret);\n            let store;\n            if ((this === null || this === void 0 ? void 0 : this.invoker) && this.invoker.constructor === index_1.XummSdkJwt) {\n                store = this.invoker._jwtStore(this, (jwt) => this.jwt = jwt);\n            }\n            const authorizeData = (store === null || store === void 0 ? void 0 : store.get(this.apiSecret)) || (yield this.call('authorize'));\n            if ((_b = (_a = authorizeData) === null || _a === void 0 ? void 0 : _a.error) === null || _b === void 0 ? void 0 : _b.code) {\n                log(`Could not resolve API Key & OTT to JWT (already fetched? Unauthorized?)`);\n                if ((this === null || this === void 0 ? void 0 : this.invoker) && this.invoker.constructor === index_1.XummSdkJwt && ((_c = this === null || this === void 0 ? void 0 : this.invoker) === null || _c === void 0 ? void 0 : _c.fatalHandler)) {\n                    this.invoker.fatalHandler(new Error(authorizeData.error.reference));\n                }\n                else {\n                    utils_1.throwIfError(authorizeData);\n                }\n            }\n            else if ((_d = authorizeData) === null || _d === void 0 ? void 0 : _d.jwt) {\n                const JwtOttResponse = authorizeData;\n                store === null || store === void 0 ? void 0 : store.set(this.apiSecret, JwtOttResponse);\n            }\n            else {\n                throw new Error(`Unexpected response for xApp JWT authorize request`);\n            }\n            if (this.authPromiseResolve) {\n                this.authPromiseResolve();\n            }\n        });\n    }\n    call(endpoint, httpMethod = 'GET', data) {\n        var _a;\n        return __awaiter(this, void 0, void 0, function* () {\n            const method = httpMethod.toUpperCase();\n            const trEndpoint = endpoint.split('/')[0];\n            if (this.jwtFlow && !(this === null || this === void 0 ? void 0 : this.jwt) && this.authPromise && endpoint !== 'authorize') {\n                yield this.authPromise;\n            }\n            try {\n                let body;\n                if (typeof data !== 'undefined') {\n                    if (typeof data === 'object' && data !== null) {\n                        body = JSON.stringify(data);\n                    }\n                    if (typeof data === 'string') {\n                        body = data;\n                    }\n                }\n                const headers = {\n                    'Content-Type': 'application/json'\n                };\n                if (!this.isBrowser) {\n                    Object.assign(headers, {\n                        'User-Agent': `xumm-sdk/node (${os_browserify_1.hostname()}) node-fetch`\n                    });\n                }\n                if (!this.jwtFlow) {\n                    Object.assign(headers, {\n                        'x-api-key': this.apiKey,\n                        'x-api-secret': this.apiSecret\n                    });\n                }\n                else {\n                    if (endpoint === 'authorize') {\n                        Object.assign(headers, {\n                            'x-api-key': this.apiKey,\n                            'x-api-ott': this.apiSecret\n                        });\n                    }\n                    else {\n                        Object.assign(headers, {\n                            'Authorization': 'Bearer ' + this.jwt\n                        });\n                    }\n                }\n                const jwtEndpoints = [\n                    'authorize',\n                    'ping',\n                    'curated-assets',\n                    'rates',\n                    'payload',\n                    'userdata',\n                    'xrpl-tx',\n                    'nftoken-detail',\n                    'rails',\n                    'hookhash'\n                ];\n                const endpointType = this.jwtFlow && jwtEndpoints.indexOf(trEndpoint) > -1\n                    ? 'jwt'\n                    : 'platform';\n                const request = yield fetch(this.endpoint + '/api/v1/' + endpointType + '/' + endpoint, {\n                    method,\n                    body,\n                    headers\n                });\n                const json = yield request.json();\n                // log({json})\n                return json;\n            }\n            catch (e) {\n                const err = new Error(`Unexpected response from XUMM API [${method}:${trEndpoint}]`);\n                err.stack = ((_a = e) === null || _a === void 0 ? void 0 : _a.stack) || undefined;\n                throw err;\n            }\n        });\n    }\n    ping() {\n        var _a, _b;\n        return __awaiter(this, void 0, void 0, function* () {\n            const pong = yield this.call('ping');\n            utils_1.throwIfError(pong);\n            if (typeof pong.auth !== 'undefined') {\n                return pong.auth;\n            }\n            if (typeof ((_a = pong) === null || _a === void 0 ? void 0 : _a.ott_uuidv4) !== 'undefined') {\n                // return pong as xAppJwtPong\n                return {\n                    application: {\n                        uuidv4: pong.app_uuidv4,\n                        name: pong.app_name\n                    },\n                    jwtData: pong\n                };\n            }\n            if (typeof ((_b = pong) === null || _b === void 0 ? void 0 : _b.usertoken_uuidv4) !== 'undefined') {\n                // return pong as JwtPong\n                return {\n                    application: {\n                        uuidv4: pong.client_id,\n                        name: pong.app_name\n                    },\n                    jwtData: pong\n                };\n            }\n            throw new Error(`Unexpected response for ping request`);\n        });\n    }\n    getCuratedAssets() {\n        return __awaiter(this, void 0, void 0, function* () {\n            return yield this.call('curated-assets');\n        });\n    }\n    getRates(currencyCode) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return yield this.call('rates/' + currencyCode.trim().toUpperCase());\n        });\n    }\n    getKycStatus(userTokenOrAccount) {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (userTokenOrAccount.trim().match(/^r/)) {\n                const call = yield this.call('kyc-status/' + userTokenOrAccount.trim());\n                return (call === null || call === void 0 ? void 0 : call.kycApproved) ? 'SUCCESSFUL' : 'NONE';\n            }\n            else {\n                const call = yield this.call('kyc-status', 'POST', {\n                    user_token: userTokenOrAccount\n                });\n                return (call === null || call === void 0 ? void 0 : call.kycStatus) || 'NONE';\n            }\n        });\n    }\n    getRails() {\n        return __awaiter(this, void 0, void 0, function* () {\n            return yield this.call('rails');\n        });\n    }\n    getHookHash(hookHash) {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (typeof hookHash === 'string' && hookHash.trim().match(/^[A-Fa-f0-9]{64}$/)) {\n                return yield this.call('hookhash/' + hookHash.trim());\n            }\n            throw Error('Invalid Hook Hash (expecting 64 char hex)');\n        });\n    }\n    getHookHashes() {\n        return __awaiter(this, void 0, void 0, function* () {\n            return yield this.call('hookhash');\n        });\n    }\n    getTransaction(txHash) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return yield this.call('xrpl-tx/' + txHash.trim());\n        });\n    }\n    getNftokenDetail(tokenId) {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (!this.jwtFlow) {\n                throw new Error('getNftokenDetail: only available in JWT (XummSdkJwt) mode');\n            }\n            return yield this.call('nftoken-detail/' + tokenId.trim());\n        });\n    }\n    verifyUserTokens(userTokens) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return (yield this.call('user-tokens', 'POST', {\n                tokens: Array.isArray(userTokens) ? userTokens : [userTokens]\n            })).tokens;\n        });\n    }\n    // Internal\n    _inject(Invoker) {\n        if (!this.injected) {\n            this.invoker = Invoker;\n        }\n        else {\n            throw new Error('Cannot `_inject` twice');\n        }\n    }\n}\nexports.Meta = Meta;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMveHVtbS1zZGsvZGlzdC9zcmMvTWV0YS5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiO0FBQ0EsNEJBQTRCLCtEQUErRCxpQkFBaUI7QUFDNUc7QUFDQSxvQ0FBb0MsTUFBTSwrQkFBK0IsWUFBWTtBQUNyRixtQ0FBbUMsTUFBTSxtQ0FBbUMsWUFBWTtBQUN4RixnQ0FBZ0M7QUFDaEM7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLDZDQUE2QztBQUM3QztBQUNBLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxZQUFZO0FBQ1osZ0JBQWdCLG1CQUFPLENBQUMsc0RBQU87QUFDL0IseUNBQXlDLG1CQUFPLENBQUMseUVBQWdCO0FBQ2pFLFFBQVEsb0NBQW9DO0FBQzVDLHdCQUF3QixtQkFBTyxDQUFDLGlFQUFlO0FBQy9DLGdCQUFnQixtQkFBTyxDQUFDLGdFQUFTO0FBQ2pDLGdCQUFnQixtQkFBTyxDQUFDLGdFQUFTO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZDQUE2QyxFQUFFLFdBQVcsRUFBRSxXQUFXLEVBQUUsV0FBVyxFQUFFLFdBQVcsR0FBRztBQUNwRztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3REFBd0QsMkJBQTJCO0FBQ25GLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQSx3QkFBd0IsS0FBSztBQUM3QjtBQUNBO0FBQ0E7QUFDQSw0RUFBNEUsT0FBTyxHQUFHLFdBQVc7QUFDakc7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxvRkFBb0YsR0FBRztBQUN2RjtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVkiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9taWNyb2xlbmRlci8uL25vZGVfbW9kdWxlcy94dW1tLXNkay9kaXN0L3NyYy9NZXRhLmpzPzk5NjYiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19hd2FpdGVyID0gKHRoaXMgJiYgdGhpcy5fX2F3YWl0ZXIpIHx8IGZ1bmN0aW9uICh0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcbiAgICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQID8gdmFsdWUgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHZhbHVlKTsgfSk7IH1cbiAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cbiAgICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xuICAgIH0pO1xufTtcbnZhciBfX2ltcG9ydERlZmF1bHQgPSAodGhpcyAmJiB0aGlzLl9faW1wb3J0RGVmYXVsdCkgfHwgZnVuY3Rpb24gKG1vZCkge1xuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgXCJkZWZhdWx0XCI6IG1vZCB9O1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuTWV0YSA9IHZvaWQgMDtcbmNvbnN0IGRlYnVnXzEgPSByZXF1aXJlKFwiZGVidWdcIik7XG5jb25zdCBmZXRjaF9wb255ZmlsbF8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCJmZXRjaC1wb255ZmlsbFwiKSk7XG5jb25zdCB7IGZldGNoLCBSZXF1ZXN0LCBSZXNwb25zZSwgSGVhZGVycyB9ID0gZmV0Y2hfcG9ueWZpbGxfMS5kZWZhdWx0KCk7XG5jb25zdCBvc19icm93c2VyaWZ5XzEgPSByZXF1aXJlKFwib3MtYnJvd3NlcmlmeVwiKTtcbmNvbnN0IHV0aWxzXzEgPSByZXF1aXJlKFwiLi91dGlsc1wiKTtcbmNvbnN0IGluZGV4XzEgPSByZXF1aXJlKFwiLi9pbmRleFwiKTtcbmNvbnN0IGxvZyA9IGRlYnVnXzEuZGVidWcoJ3h1bW0tc2RrOm1ldGEnKTtcbmNsYXNzIE1ldGEge1xuICAgIGNvbnN0cnVjdG9yKGFwaUtleSwgYXBpU2VjcmV0KSB7XG4gICAgICAgIHRoaXMuaXNCcm93c2VyID0gZmFsc2U7XG4gICAgICAgIHRoaXMuand0RmxvdyA9IGZhbHNlO1xuICAgICAgICAvLyBEZXBlbmRlbmN5IGluamVjdGlvbjogcGFyZW50XG4gICAgICAgIHRoaXMuaW5qZWN0ZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5lbmRwb2ludCA9ICdodHRwczovL3h1bW0uYXBwJztcbiAgICAgICAgbG9nKCdDb25zdHJ1Y3RlZCcpO1xuICAgICAgICBjb25zdCB1dWlkUmUgPSBuZXcgUmVnRXhwKCdeW2EtZjAtOV17OH1cXC1bYS1mMC05XXs0fVxcLVthLWYwLTldezR9XFwtW2EtZjAtOV17NH1cXC1bYS1mMC05XXsxMn0kJyk7XG4gICAgICAgIGNvbnN0IHNlY3JldCA9IHtcbiAgICAgICAgICAgIHNwbGl0OiBhcGlTZWNyZXQuc3BsaXQoJzonKSxcbiAgICAgICAgICAgIHV1aWR2NDogJydcbiAgICAgICAgfTtcbiAgICAgICAgaWYgKHNlY3JldC5zcGxpdC5sZW5ndGggPT09IDMgJiYgc2VjcmV0LnNwbGl0LnNsaWNlKDAsIDIpLmpvaW4oJzonKSA9PT0gJ3hBcHA6T25lVGltZVRva2VuJykge1xuICAgICAgICAgICAgLy8geEFwcCBKV1QgZmxvd1xuICAgICAgICAgICAgc2VjcmV0LnV1aWR2NCA9IHNlY3JldC5zcGxpdFsyXTtcbiAgICAgICAgICAgIHRoaXMuand0RmxvdyA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoc2VjcmV0LnNwbGl0Lmxlbmd0aCA+IDEgJiYgc2VjcmV0LnNwbGl0WzBdID09PSAnUkFXSldUJykge1xuICAgICAgICAgICAgdGhpcy5qd3RGbG93ID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuand0ID0gc2VjcmV0LnNwbGl0LnNsaWNlKDEpLmpvaW4oJzonKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIFJlZ3VsYXIgU0RLL0FQSSBjYWxsc1xuICAgICAgICAgICAgc2VjcmV0LnV1aWR2NCA9IGFwaVNlY3JldDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXV1aWRSZS50ZXN0KGFwaUtleSkgfHwgIXV1aWRSZS50ZXN0KHNlY3JldC51dWlkdjQpKSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuand0Rmxvdykge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBBUEkgS2V5IGFuZC9vciBBUEkgU2VjcmV0LiBVc2UgZG90ZW52IG9yIGNvbnN0cnVjdG9yIHBhcmFtcy4nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmICghdGhpcy5qd3QpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIEFQSSBLZXkgYW5kL29yIE9UVCAoT25lIFRpbWUgVG9rZW4pLiAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICdQcm92aWRlIE9UVCBwYXJhbSAoMm5kIHBhcmFtKSBvciBtYWtlIHN1cmUgYHhBcHBUb2tlbmAgcXVlcnkgcGFyYW0gaXMgcHJlc2VudCAoQnJvd3NlciknKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZiBnbG9iYWxUaGlzICE9PSAndW5kZWZpbmVkJyAmJiBPYmplY3Qua2V5cyhnbG9iYWxUaGlzKS5pbmRleE9mKCd3aW5kb3cnKSA8IDApIHtcbiAgICAgICAgICAgIGxvZygnUnVubmluZyBpbiBub2RlJyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnWFVNTSBTREs6IFJ1bm5pbmcgaW4gYnJvd3NlcicpO1xuICAgICAgICAgICAgdGhpcy5pc0Jyb3dzZXIgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuYXBpS2V5ID0gYXBpS2V5O1xuICAgICAgICB0aGlzLmFwaVNlY3JldCA9IHNlY3JldC51dWlkdjQ7XG4gICAgICAgIGlmICh0aGlzLmp3dEZsb3cgJiYgIXRoaXMuand0KSB7XG4gICAgICAgICAgICAvLyBBbGxvdyBjYWxscyB0byB3YWl0IGZvciBKV1RcbiAgICAgICAgICAgIHRoaXMuYXV0aFByb21pc2UgPSBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmF1dGhQcm9taXNlUmVzb2x2ZSA9IHJlc29sdmU7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIC8vIEV2ZW50bG9vcDogd2FpdCBmb3IgX2luamVjdCBAIGluZGV4LnRzIChYdW1tU2RrIENvbnN0cnVjdG9yKSB0byBoYXZlIGhhcHBlbmVkXG4gICAgICAgICAgICBQcm9taXNlLnJlc29sdmUoKVxuICAgICAgICAgICAgICAgIC50aGVuKCgpID0+IHRoaXMuYXV0aG9yaXplKCkpXG4gICAgICAgICAgICAgICAgLmNhdGNoKGUgPT4ge1xuICAgICAgICAgICAgICAgIGxvZygnQXV0aG9yaXplIGVycm9yOicsIGUubWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMgPT09IG51bGwgfHwgdGhpcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogdGhpcy5pbnZva2VyKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaW52b2tlci5jYXVnaHQoZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmF1dGhQcm9taXNlUmVzb2x2ZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmF1dGhQcm9taXNlUmVzb2x2ZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBzZXRFbmRwb2ludChlbmRwb2ludCkge1xuICAgICAgICBpZiAoZW5kcG9pbnQubWF0Y2goL15odHRwLykpIHtcbiAgICAgICAgICAgIHRoaXMuZW5kcG9pbnQgPSBlbmRwb2ludC50cmltKCk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGF1dGhvcml6ZSgpIHtcbiAgICAgICAgdmFyIF9hLCBfYiwgX2MsIF9kO1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgbG9nKCdKV1QgQXV0aG9yaXplJywgdGhpcy5hcGlTZWNyZXQpO1xuICAgICAgICAgICAgbGV0IHN0b3JlO1xuICAgICAgICAgICAgaWYgKCh0aGlzID09PSBudWxsIHx8IHRoaXMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHRoaXMuaW52b2tlcikgJiYgdGhpcy5pbnZva2VyLmNvbnN0cnVjdG9yID09PSBpbmRleF8xLlh1bW1TZGtKd3QpIHtcbiAgICAgICAgICAgICAgICBzdG9yZSA9IHRoaXMuaW52b2tlci5fand0U3RvcmUodGhpcywgKGp3dCkgPT4gdGhpcy5qd3QgPSBqd3QpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgYXV0aG9yaXplRGF0YSA9IChzdG9yZSA9PT0gbnVsbCB8fCBzdG9yZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogc3RvcmUuZ2V0KHRoaXMuYXBpU2VjcmV0KSkgfHwgKHlpZWxkIHRoaXMuY2FsbCgnYXV0aG9yaXplJykpO1xuICAgICAgICAgICAgaWYgKChfYiA9IChfYSA9IGF1dGhvcml6ZURhdGEpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5lcnJvcikgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLmNvZGUpIHtcbiAgICAgICAgICAgICAgICBsb2coYENvdWxkIG5vdCByZXNvbHZlIEFQSSBLZXkgJiBPVFQgdG8gSldUIChhbHJlYWR5IGZldGNoZWQ/IFVuYXV0aG9yaXplZD8pYCk7XG4gICAgICAgICAgICAgICAgaWYgKCh0aGlzID09PSBudWxsIHx8IHRoaXMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHRoaXMuaW52b2tlcikgJiYgdGhpcy5pbnZva2VyLmNvbnN0cnVjdG9yID09PSBpbmRleF8xLlh1bW1TZGtKd3QgJiYgKChfYyA9IHRoaXMgPT09IG51bGwgfHwgdGhpcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogdGhpcy5pbnZva2VyKSA9PT0gbnVsbCB8fCBfYyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2MuZmF0YWxIYW5kbGVyKSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmludm9rZXIuZmF0YWxIYW5kbGVyKG5ldyBFcnJvcihhdXRob3JpemVEYXRhLmVycm9yLnJlZmVyZW5jZSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdXRpbHNfMS50aHJvd0lmRXJyb3IoYXV0aG9yaXplRGF0YSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoKF9kID0gYXV0aG9yaXplRGF0YSkgPT09IG51bGwgfHwgX2QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9kLmp3dCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IEp3dE90dFJlc3BvbnNlID0gYXV0aG9yaXplRGF0YTtcbiAgICAgICAgICAgICAgICBzdG9yZSA9PT0gbnVsbCB8fCBzdG9yZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogc3RvcmUuc2V0KHRoaXMuYXBpU2VjcmV0LCBKd3RPdHRSZXNwb25zZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFVuZXhwZWN0ZWQgcmVzcG9uc2UgZm9yIHhBcHAgSldUIGF1dGhvcml6ZSByZXF1ZXN0YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5hdXRoUHJvbWlzZVJlc29sdmUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmF1dGhQcm9taXNlUmVzb2x2ZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgY2FsbChlbmRwb2ludCwgaHR0cE1ldGhvZCA9ICdHRVQnLCBkYXRhKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIGNvbnN0IG1ldGhvZCA9IGh0dHBNZXRob2QudG9VcHBlckNhc2UoKTtcbiAgICAgICAgICAgIGNvbnN0IHRyRW5kcG9pbnQgPSBlbmRwb2ludC5zcGxpdCgnLycpWzBdO1xuICAgICAgICAgICAgaWYgKHRoaXMuand0RmxvdyAmJiAhKHRoaXMgPT09IG51bGwgfHwgdGhpcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogdGhpcy5qd3QpICYmIHRoaXMuYXV0aFByb21pc2UgJiYgZW5kcG9pbnQgIT09ICdhdXRob3JpemUnKSB7XG4gICAgICAgICAgICAgICAgeWllbGQgdGhpcy5hdXRoUHJvbWlzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgbGV0IGJvZHk7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBkYXRhICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGRhdGEgPT09ICdvYmplY3QnICYmIGRhdGEgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJvZHkgPSBKU09OLnN0cmluZ2lmeShkYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGRhdGEgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBib2R5ID0gZGF0YTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCBoZWFkZXJzID0ge1xuICAgICAgICAgICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuaXNCcm93c2VyKSB7XG4gICAgICAgICAgICAgICAgICAgIE9iamVjdC5hc3NpZ24oaGVhZGVycywge1xuICAgICAgICAgICAgICAgICAgICAgICAgJ1VzZXItQWdlbnQnOiBgeHVtbS1zZGsvbm9kZSAoJHtvc19icm93c2VyaWZ5XzEuaG9zdG5hbWUoKX0pIG5vZGUtZmV0Y2hgXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuand0Rmxvdykge1xuICAgICAgICAgICAgICAgICAgICBPYmplY3QuYXNzaWduKGhlYWRlcnMsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICd4LWFwaS1rZXknOiB0aGlzLmFwaUtleSxcbiAgICAgICAgICAgICAgICAgICAgICAgICd4LWFwaS1zZWNyZXQnOiB0aGlzLmFwaVNlY3JldFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChlbmRwb2ludCA9PT0gJ2F1dGhvcml6ZScpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIE9iamVjdC5hc3NpZ24oaGVhZGVycywge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICd4LWFwaS1rZXknOiB0aGlzLmFwaUtleSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAneC1hcGktb3R0JzogdGhpcy5hcGlTZWNyZXRcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgT2JqZWN0LmFzc2lnbihoZWFkZXJzLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ0F1dGhvcml6YXRpb24nOiAnQmVhcmVyICcgKyB0aGlzLmp3dFxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3Qgand0RW5kcG9pbnRzID0gW1xuICAgICAgICAgICAgICAgICAgICAnYXV0aG9yaXplJyxcbiAgICAgICAgICAgICAgICAgICAgJ3BpbmcnLFxuICAgICAgICAgICAgICAgICAgICAnY3VyYXRlZC1hc3NldHMnLFxuICAgICAgICAgICAgICAgICAgICAncmF0ZXMnLFxuICAgICAgICAgICAgICAgICAgICAncGF5bG9hZCcsXG4gICAgICAgICAgICAgICAgICAgICd1c2VyZGF0YScsXG4gICAgICAgICAgICAgICAgICAgICd4cnBsLXR4JyxcbiAgICAgICAgICAgICAgICAgICAgJ25mdG9rZW4tZGV0YWlsJyxcbiAgICAgICAgICAgICAgICAgICAgJ3JhaWxzJyxcbiAgICAgICAgICAgICAgICAgICAgJ2hvb2toYXNoJ1xuICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICAgICAgY29uc3QgZW5kcG9pbnRUeXBlID0gdGhpcy5qd3RGbG93ICYmIGp3dEVuZHBvaW50cy5pbmRleE9mKHRyRW5kcG9pbnQpID4gLTFcbiAgICAgICAgICAgICAgICAgICAgPyAnand0J1xuICAgICAgICAgICAgICAgICAgICA6ICdwbGF0Zm9ybSc7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVxdWVzdCA9IHlpZWxkIGZldGNoKHRoaXMuZW5kcG9pbnQgKyAnL2FwaS92MS8nICsgZW5kcG9pbnRUeXBlICsgJy8nICsgZW5kcG9pbnQsIHtcbiAgICAgICAgICAgICAgICAgICAgbWV0aG9kLFxuICAgICAgICAgICAgICAgICAgICBib2R5LFxuICAgICAgICAgICAgICAgICAgICBoZWFkZXJzXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgY29uc3QganNvbiA9IHlpZWxkIHJlcXVlc3QuanNvbigpO1xuICAgICAgICAgICAgICAgIC8vIGxvZyh7anNvbn0pXG4gICAgICAgICAgICAgICAgcmV0dXJuIGpzb247XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGVyciA9IG5ldyBFcnJvcihgVW5leHBlY3RlZCByZXNwb25zZSBmcm9tIFhVTU0gQVBJIFske21ldGhvZH06JHt0ckVuZHBvaW50fV1gKTtcbiAgICAgICAgICAgICAgICBlcnIuc3RhY2sgPSAoKF9hID0gZSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnN0YWNrKSB8fCB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgcGluZygpIHtcbiAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIGNvbnN0IHBvbmcgPSB5aWVsZCB0aGlzLmNhbGwoJ3BpbmcnKTtcbiAgICAgICAgICAgIHV0aWxzXzEudGhyb3dJZkVycm9yKHBvbmcpO1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBwb25nLmF1dGggIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHBvbmcuYXV0aDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0eXBlb2YgKChfYSA9IHBvbmcpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5vdHRfdXVpZHY0KSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgICAvLyByZXR1cm4gcG9uZyBhcyB4QXBwSnd0UG9uZ1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIGFwcGxpY2F0aW9uOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB1dWlkdjQ6IHBvbmcuYXBwX3V1aWR2NCxcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IHBvbmcuYXBwX25hbWVcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgand0RGF0YTogcG9uZ1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodHlwZW9mICgoX2IgPSBwb25nKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IudXNlcnRva2VuX3V1aWR2NCkgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgICAgLy8gcmV0dXJuIHBvbmcgYXMgSnd0UG9uZ1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIGFwcGxpY2F0aW9uOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB1dWlkdjQ6IHBvbmcuY2xpZW50X2lkLFxuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogcG9uZy5hcHBfbmFtZVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBqd3REYXRhOiBwb25nXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgVW5leHBlY3RlZCByZXNwb25zZSBmb3IgcGluZyByZXF1ZXN0YCk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBnZXRDdXJhdGVkQXNzZXRzKCkge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgcmV0dXJuIHlpZWxkIHRoaXMuY2FsbCgnY3VyYXRlZC1hc3NldHMnKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGdldFJhdGVzKGN1cnJlbmN5Q29kZSkge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgcmV0dXJuIHlpZWxkIHRoaXMuY2FsbCgncmF0ZXMvJyArIGN1cnJlbmN5Q29kZS50cmltKCkudG9VcHBlckNhc2UoKSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBnZXRLeWNTdGF0dXModXNlclRva2VuT3JBY2NvdW50KSB7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICBpZiAodXNlclRva2VuT3JBY2NvdW50LnRyaW0oKS5tYXRjaCgvXnIvKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNhbGwgPSB5aWVsZCB0aGlzLmNhbGwoJ2t5Yy1zdGF0dXMvJyArIHVzZXJUb2tlbk9yQWNjb3VudC50cmltKCkpO1xuICAgICAgICAgICAgICAgIHJldHVybiAoY2FsbCA9PT0gbnVsbCB8fCBjYWxsID09PSB2b2lkIDAgPyB2b2lkIDAgOiBjYWxsLmt5Y0FwcHJvdmVkKSA/ICdTVUNDRVNTRlVMJyA6ICdOT05FJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNhbGwgPSB5aWVsZCB0aGlzLmNhbGwoJ2t5Yy1zdGF0dXMnLCAnUE9TVCcsIHtcbiAgICAgICAgICAgICAgICAgICAgdXNlcl90b2tlbjogdXNlclRva2VuT3JBY2NvdW50XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIChjYWxsID09PSBudWxsIHx8IGNhbGwgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGNhbGwua3ljU3RhdHVzKSB8fCAnTk9ORSc7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBnZXRSYWlscygpIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHJldHVybiB5aWVsZCB0aGlzLmNhbGwoJ3JhaWxzJyk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBnZXRIb29rSGFzaChob29rSGFzaCkge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBob29rSGFzaCA9PT0gJ3N0cmluZycgJiYgaG9va0hhc2gudHJpbSgpLm1hdGNoKC9eW0EtRmEtZjAtOV17NjR9JC8pKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHlpZWxkIHRoaXMuY2FsbCgnaG9va2hhc2gvJyArIGhvb2tIYXNoLnRyaW0oKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aHJvdyBFcnJvcignSW52YWxpZCBIb29rIEhhc2ggKGV4cGVjdGluZyA2NCBjaGFyIGhleCknKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGdldEhvb2tIYXNoZXMoKSB7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICByZXR1cm4geWllbGQgdGhpcy5jYWxsKCdob29raGFzaCcpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgZ2V0VHJhbnNhY3Rpb24odHhIYXNoKSB7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICByZXR1cm4geWllbGQgdGhpcy5jYWxsKCd4cnBsLXR4LycgKyB0eEhhc2gudHJpbSgpKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGdldE5mdG9rZW5EZXRhaWwodG9rZW5JZCkge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgaWYgKCF0aGlzLmp3dEZsb3cpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2dldE5mdG9rZW5EZXRhaWw6IG9ubHkgYXZhaWxhYmxlIGluIEpXVCAoWHVtbVNka0p3dCkgbW9kZScpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHlpZWxkIHRoaXMuY2FsbCgnbmZ0b2tlbi1kZXRhaWwvJyArIHRva2VuSWQudHJpbSgpKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHZlcmlmeVVzZXJUb2tlbnModXNlclRva2Vucykge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgcmV0dXJuICh5aWVsZCB0aGlzLmNhbGwoJ3VzZXItdG9rZW5zJywgJ1BPU1QnLCB7XG4gICAgICAgICAgICAgICAgdG9rZW5zOiBBcnJheS5pc0FycmF5KHVzZXJUb2tlbnMpID8gdXNlclRva2VucyA6IFt1c2VyVG9rZW5zXVxuICAgICAgICAgICAgfSkpLnRva2VucztcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8vIEludGVybmFsXG4gICAgX2luamVjdChJbnZva2VyKSB7XG4gICAgICAgIGlmICghdGhpcy5pbmplY3RlZCkge1xuICAgICAgICAgICAgdGhpcy5pbnZva2VyID0gSW52b2tlcjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IGBfaW5qZWN0YCB0d2ljZScpO1xuICAgICAgICB9XG4gICAgfVxufVxuZXhwb3J0cy5NZXRhID0gTWV0YTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/xumm-sdk/dist/src/Meta.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/xumm-sdk/dist/src/Payload.js":
/*!***************************************************!*\
  !*** ./node_modules/xumm-sdk/dist/src/Payload.js ***!
  \***************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Payload = void 0;\nconst debug_1 = __webpack_require__(/*! debug */ \"(ssr)/./node_modules/debug/src/index.js\");\nconst websocket_1 = __webpack_require__(/*! websocket */ \"websocket\");\nconst utils_1 = __webpack_require__(/*! ./utils */ \"(ssr)/./node_modules/xumm-sdk/dist/src/utils.js\");\nconst log = debug_1.debug('xumm-sdk:payload');\nconst logWs = debug_1.debug('xumm-sdk:payload:websocket');\nconst maxSocketConnectAttempts = typeof jest !== 'undefined' ? 0 : 30;\nconst socketConnectAttemptSecondsDelay = 2;\nconst socketKeepaliveSendSeconds = 2;\nconst socketKeepaliveTimeoutSeconds = 10;\nclass Payload {\n    constructor(MetaObject) {\n        log('Constructed');\n        this.Meta = MetaObject;\n    }\n    resolvePayload(payload) {\n        var _a, _b, _c;\n        return __awaiter(this, void 0, void 0, function* () {\n            if (typeof payload === 'string') {\n                return yield this.get(payload, true);\n            }\n            else if (typeof ((_a = payload) === null || _a === void 0 ? void 0 : _a.uuid) !== 'undefined') {\n                return yield this.get(payload.uuid, true);\n            }\n            else if (typeof ((_c = (_b = payload) === null || _b === void 0 ? void 0 : _b.meta) === null || _c === void 0 ? void 0 : _c.uuid) !== 'undefined') {\n                return payload;\n            }\n            throw new Error('Could not resolve payload (not found)');\n        });\n    }\n    create(payload, returnErrors = false) {\n        var _a;\n        return __awaiter(this, void 0, void 0, function* () {\n            const directTx = typeof payload.TransactionType !== 'undefined'\n                && typeof payload.txjson === 'undefined';\n            const call = yield this.Meta.call('payload', 'POST', directTx ? { txjson: payload } : payload);\n            if (returnErrors) {\n                utils_1.throwIfError(call);\n            }\n            const isCreatedPayload = ((_a = call) === null || _a === void 0 ? void 0 : _a.next) !== undefined;\n            if (!isCreatedPayload) {\n                return null;\n            }\n            return call;\n        });\n    }\n    get(payload, returnErrors = false) {\n        var _a, _b;\n        return __awaiter(this, void 0, void 0, function* () {\n            const payloadUuid = typeof payload === 'string'\n                ? payload\n                : payload === null || payload === void 0 ? void 0 : payload.uuid;\n            const call = yield this.Meta.call('payload/' + payloadUuid, 'GET');\n            if (returnErrors) {\n                utils_1.throwIfError(call);\n            }\n            const isPayload = ((_b = (_a = call) === null || _a === void 0 ? void 0 : _a.meta) === null || _b === void 0 ? void 0 : _b.uuid) !== undefined;\n            if (!isPayload) {\n                return null;\n            }\n            return call;\n        });\n    }\n    subscribe(payload, callback) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const callbackPromise = new utils_1.DeferredPromise();\n            const payloadDetails = yield this.resolvePayload(payload);\n            if (payloadDetails) {\n                const _u = 'undefined'; // For Jest tests\n                let socket;\n                let keepAlivePing;\n                let keepAliveReinstateTimer;\n                let reconnectAttempts = 0;\n                callbackPromise.promise.then(() => {\n                    clearTimeout(keepAlivePing);\n                    clearTimeout(keepAliveReinstateTimer);\n                    socket.close(1000);\n                });\n                const connect = () => {\n                    var _a, _b;\n                    socket = typeof ((_a = globalThis) === null || _a === void 0 ? void 0 : _a.MockedWebSocket) !== _u && typeof jest !== _u\n                        ? new ((_b = globalThis) === null || _b === void 0 ? void 0 : _b.MockedWebSocket)('ws://xumm.local')\n                        : new websocket_1.w3cwebsocket(this.Meta.endpoint.replace(/^http/, 'ws') + '/sign/' + payloadDetails.meta.uuid);\n                    socket.onopen = () => {\n                        console.log(`Payload ${payloadDetails.meta.uuid}: subscription active (WebSocket opened)`);\n                        keepAlivePing = setInterval(() => {\n                            logWs('Send keepalive');\n                            socket.send('{\"ping\":true}');\n                        }, socketKeepaliveSendSeconds * 1000);\n                    };\n                    socket.onmessage = (MessageEvent) => __awaiter(this, void 0, void 0, function* () {\n                        reconnectAttempts = 0;\n                        const m = MessageEvent.data;\n                        let json = undefined;\n                        try {\n                            json = JSON.parse(m.toString());\n                            if ((json === null || json === void 0 ? void 0 : json.message) && json.message === 'Right back at you!') {\n                                // Keepalive responses\n                                logWs('Keepalive response');\n                                clearTimeout(keepAliveReinstateTimer);\n                                keepAliveReinstateTimer = setTimeout(() => {\n                                    console.log(`WebSocket for ${payloadDetails.meta.uuid} ` +\n                                        `keepalive response timeout, assume dead... (Reconnect)`);\n                                    socket.close(1002, 'Assume dead');\n                                }, socketKeepaliveTimeoutSeconds * 1000);\n                                return;\n                            }\n                            if ((json === null || json === void 0 ? void 0 : json.signed) || (json === null || json === void 0 ? void 0 : json.expired)) {\n                                // The payload has been signed or expired, update the referenced payload\n                                const updatedPayloadDetails = yield this.resolvePayload(payload);\n                                Object.assign(payloadDetails, Object.assign({}, updatedPayloadDetails));\n                            }\n                        }\n                        catch (e) {\n                            // Do nothing\n                            logWs(`Payload ${payloadDetails.meta.uuid}: Received message, unable to parse as JSON`, e);\n                        }\n                        if (json && callback && typeof json.devapp_fetched === 'undefined') {\n                            try {\n                                // log(`Payload ${payload}`, json)\n                                const callbackResult = yield callback({\n                                    uuid: payloadDetails.meta.uuid,\n                                    data: json,\n                                    resolve(resolveData) {\n                                        return __awaiter(this, void 0, void 0, function* () {\n                                            yield callbackPromise.resolve(resolveData || undefined);\n                                        });\n                                    },\n                                    payload: payloadDetails\n                                });\n                                if (callbackResult !== undefined) {\n                                    callbackPromise.resolve(callbackResult);\n                                }\n                            }\n                            catch (e) {\n                                // Do nothing\n                                logWs(`Payload ${payloadDetails.meta.uuid}: Callback exception`, e);\n                                // This one emit for devs to know about this problem\n                                console.log(`Payload ${payloadDetails.meta.uuid}: Callback exception: ${e.message}`);\n                            }\n                        }\n                    });\n                    socket.onclose = (_e) => {\n                        logWs('Closed [code]', _e.code);\n                        logWs('Closed [reason]', _e.reason);\n                        logWs('Closed [wasClean]', _e.wasClean);\n                        clearInterval(keepAlivePing);\n                        clearTimeout(keepAliveReinstateTimer);\n                        // Reconnect\n                        if (_e.code > 1000 || _e.wasClean === false) {\n                            console.log(_e);\n                            logWs('Unhealthy disconnect, reconnecting...', _e.code);\n                            if (reconnectAttempts < maxSocketConnectAttempts) {\n                                if (reconnectAttempts === 0) {\n                                    console.log(`WebSocket for ${payloadDetails.meta.uuid} lost, reconnecting...`);\n                                }\n                                setTimeout(() => {\n                                    reconnectAttempts++;\n                                    logWs('# Reconnect');\n                                    if (typeof jest === 'undefined') {\n                                        socket = connect();\n                                    }\n                                }, socketConnectAttemptSecondsDelay * 1000);\n                            }\n                            else {\n                                if (typeof jest === 'undefined') {\n                                    console.log(`WebSocket for ${payloadDetails.meta.uuid} exceeded reconnect timeouts, give up`);\n                                }\n                            }\n                        }\n                        else {\n                            // Socket closed on purpose (?)\n                        }\n                        logWs(`Payload ${payloadDetails.meta.uuid}: Subscription ended (WebSocket closed)`);\n                    };\n                    return socket;\n                };\n                socket = connect();\n                return {\n                    payload: payloadDetails,\n                    resolve(resolveData) {\n                        callbackPromise.resolve(resolveData || undefined);\n                    },\n                    resolved: callbackPromise.promise,\n                    websocket: socket\n                };\n            }\n            utils_1.throwIfError(payloadDetails);\n            throw Error(`Couldn't subscribe: couldn't fetch payload`);\n        });\n    }\n    cancel(payload, returnErrors = false) {\n        var _a, _b, _c;\n        return __awaiter(this, void 0, void 0, function* () {\n            const fullPayload = yield this.resolvePayload(payload);\n            const call = yield this.Meta.call('payload/' + ((_a = fullPayload === null || fullPayload === void 0 ? void 0 : fullPayload.meta) === null || _a === void 0 ? void 0 : _a.uuid), 'DELETE');\n            if (returnErrors) {\n                utils_1.throwIfError(call);\n            }\n            const isValidResponse = ((_c = (_b = call) === null || _b === void 0 ? void 0 : _b.meta) === null || _c === void 0 ? void 0 : _c.uuid) !== undefined;\n            if (!isValidResponse) {\n                return null;\n            }\n            return call;\n        });\n    }\n    createAndSubscribe(payload, callback) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const createdPayload = yield this.create(payload, true);\n            if (createdPayload) {\n                const subscription = yield this.subscribe(createdPayload, callback);\n                return Object.assign({ created: createdPayload }, subscription);\n            }\n            throw new Error(`Error creating payload or subscribing to created payload`);\n        });\n    }\n}\nexports.Payload = Payload;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMveHVtbS1zZGsvZGlzdC9zcmMvUGF5bG9hZC5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiO0FBQ0EsNEJBQTRCLCtEQUErRCxpQkFBaUI7QUFDNUc7QUFDQSxvQ0FBb0MsTUFBTSwrQkFBK0IsWUFBWTtBQUNyRixtQ0FBbUMsTUFBTSxtQ0FBbUMsWUFBWTtBQUN4RixnQ0FBZ0M7QUFDaEM7QUFDQSxLQUFLO0FBQ0w7QUFDQSw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsZUFBZTtBQUNmLGdCQUFnQixtQkFBTyxDQUFDLHNEQUFPO0FBQy9CLG9CQUFvQixtQkFBTyxDQUFDLDRCQUFXO0FBQ3ZDLGdCQUFnQixtQkFBTyxDQUFDLGdFQUFTO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4RUFBOEUsa0JBQWtCO0FBQ2hHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0NBQXdDO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0NBQStDLHlCQUF5QjtBQUN4RTtBQUNBO0FBQ0EsMENBQTBDLFlBQVk7QUFDdEQseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlFQUFpRSwwQkFBMEI7QUFDM0Y7QUFDQTtBQUNBLGlDQUFpQztBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEVBQThFO0FBQzlFO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkNBQTZDLHlCQUF5QjtBQUN0RTtBQUNBO0FBQ0E7QUFDQSxrREFBa0QsUUFBUTtBQUMxRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5Q0FBeUM7QUFDekMscUNBQXFDO0FBQ3JDO0FBQ0EsaUNBQWlDO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlEQUFpRCx5QkFBeUI7QUFDMUU7QUFDQSx1REFBdUQseUJBQXlCLHdCQUF3QixVQUFVO0FBQ2xIO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUVBQWlFLDBCQUEwQjtBQUMzRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQztBQUNqQztBQUNBO0FBQ0E7QUFDQSxpRUFBaUUsMEJBQTBCO0FBQzNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlDQUF5Qyx5QkFBeUI7QUFDbEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1Q0FBdUMseUJBQXlCO0FBQ2hFO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLGVBQWUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9taWNyb2xlbmRlci8uL25vZGVfbW9kdWxlcy94dW1tLXNkay9kaXN0L3NyYy9QYXlsb2FkLmpzP2U3ODkiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19hd2FpdGVyID0gKHRoaXMgJiYgdGhpcy5fX2F3YWl0ZXIpIHx8IGZ1bmN0aW9uICh0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcbiAgICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQID8gdmFsdWUgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHZhbHVlKTsgfSk7IH1cbiAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cbiAgICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xuICAgIH0pO1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuUGF5bG9hZCA9IHZvaWQgMDtcbmNvbnN0IGRlYnVnXzEgPSByZXF1aXJlKFwiZGVidWdcIik7XG5jb25zdCB3ZWJzb2NrZXRfMSA9IHJlcXVpcmUoXCJ3ZWJzb2NrZXRcIik7XG5jb25zdCB1dGlsc18xID0gcmVxdWlyZShcIi4vdXRpbHNcIik7XG5jb25zdCBsb2cgPSBkZWJ1Z18xLmRlYnVnKCd4dW1tLXNkazpwYXlsb2FkJyk7XG5jb25zdCBsb2dXcyA9IGRlYnVnXzEuZGVidWcoJ3h1bW0tc2RrOnBheWxvYWQ6d2Vic29ja2V0Jyk7XG5jb25zdCBtYXhTb2NrZXRDb25uZWN0QXR0ZW1wdHMgPSB0eXBlb2YgamVzdCAhPT0gJ3VuZGVmaW5lZCcgPyAwIDogMzA7XG5jb25zdCBzb2NrZXRDb25uZWN0QXR0ZW1wdFNlY29uZHNEZWxheSA9IDI7XG5jb25zdCBzb2NrZXRLZWVwYWxpdmVTZW5kU2Vjb25kcyA9IDI7XG5jb25zdCBzb2NrZXRLZWVwYWxpdmVUaW1lb3V0U2Vjb25kcyA9IDEwO1xuY2xhc3MgUGF5bG9hZCB7XG4gICAgY29uc3RydWN0b3IoTWV0YU9iamVjdCkge1xuICAgICAgICBsb2coJ0NvbnN0cnVjdGVkJyk7XG4gICAgICAgIHRoaXMuTWV0YSA9IE1ldGFPYmplY3Q7XG4gICAgfVxuICAgIHJlc29sdmVQYXlsb2FkKHBheWxvYWQpIHtcbiAgICAgICAgdmFyIF9hLCBfYiwgX2M7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIHBheWxvYWQgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHlpZWxkIHRoaXMuZ2V0KHBheWxvYWQsIHRydWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mICgoX2EgPSBwYXlsb2FkKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EudXVpZCkgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHlpZWxkIHRoaXMuZ2V0KHBheWxvYWQudXVpZCwgdHJ1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh0eXBlb2YgKChfYyA9IChfYiA9IHBheWxvYWQpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5tZXRhKSA9PT0gbnVsbCB8fCBfYyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2MudXVpZCkgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHBheWxvYWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0NvdWxkIG5vdCByZXNvbHZlIHBheWxvYWQgKG5vdCBmb3VuZCknKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGNyZWF0ZShwYXlsb2FkLCByZXR1cm5FcnJvcnMgPSBmYWxzZSkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICBjb25zdCBkaXJlY3RUeCA9IHR5cGVvZiBwYXlsb2FkLlRyYW5zYWN0aW9uVHlwZSAhPT0gJ3VuZGVmaW5lZCdcbiAgICAgICAgICAgICAgICAmJiB0eXBlb2YgcGF5bG9hZC50eGpzb24gPT09ICd1bmRlZmluZWQnO1xuICAgICAgICAgICAgY29uc3QgY2FsbCA9IHlpZWxkIHRoaXMuTWV0YS5jYWxsKCdwYXlsb2FkJywgJ1BPU1QnLCBkaXJlY3RUeCA/IHsgdHhqc29uOiBwYXlsb2FkIH0gOiBwYXlsb2FkKTtcbiAgICAgICAgICAgIGlmIChyZXR1cm5FcnJvcnMpIHtcbiAgICAgICAgICAgICAgICB1dGlsc18xLnRocm93SWZFcnJvcihjYWxsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGlzQ3JlYXRlZFBheWxvYWQgPSAoKF9hID0gY2FsbCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLm5leHQpICE9PSB1bmRlZmluZWQ7XG4gICAgICAgICAgICBpZiAoIWlzQ3JlYXRlZFBheWxvYWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBjYWxsO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgZ2V0KHBheWxvYWQsIHJldHVybkVycm9ycyA9IGZhbHNlKSB7XG4gICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICBjb25zdCBwYXlsb2FkVXVpZCA9IHR5cGVvZiBwYXlsb2FkID09PSAnc3RyaW5nJ1xuICAgICAgICAgICAgICAgID8gcGF5bG9hZFxuICAgICAgICAgICAgICAgIDogcGF5bG9hZCA9PT0gbnVsbCB8fCBwYXlsb2FkID09PSB2b2lkIDAgPyB2b2lkIDAgOiBwYXlsb2FkLnV1aWQ7XG4gICAgICAgICAgICBjb25zdCBjYWxsID0geWllbGQgdGhpcy5NZXRhLmNhbGwoJ3BheWxvYWQvJyArIHBheWxvYWRVdWlkLCAnR0VUJyk7XG4gICAgICAgICAgICBpZiAocmV0dXJuRXJyb3JzKSB7XG4gICAgICAgICAgICAgICAgdXRpbHNfMS50aHJvd0lmRXJyb3IoY2FsbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBpc1BheWxvYWQgPSAoKF9iID0gKF9hID0gY2FsbCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLm1ldGEpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi51dWlkKSAhPT0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgaWYgKCFpc1BheWxvYWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBjYWxsO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgc3Vic2NyaWJlKHBheWxvYWQsIGNhbGxiYWNrKSB7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICBjb25zdCBjYWxsYmFja1Byb21pc2UgPSBuZXcgdXRpbHNfMS5EZWZlcnJlZFByb21pc2UoKTtcbiAgICAgICAgICAgIGNvbnN0IHBheWxvYWREZXRhaWxzID0geWllbGQgdGhpcy5yZXNvbHZlUGF5bG9hZChwYXlsb2FkKTtcbiAgICAgICAgICAgIGlmIChwYXlsb2FkRGV0YWlscykge1xuICAgICAgICAgICAgICAgIGNvbnN0IF91ID0gJ3VuZGVmaW5lZCc7IC8vIEZvciBKZXN0IHRlc3RzXG4gICAgICAgICAgICAgICAgbGV0IHNvY2tldDtcbiAgICAgICAgICAgICAgICBsZXQga2VlcEFsaXZlUGluZztcbiAgICAgICAgICAgICAgICBsZXQga2VlcEFsaXZlUmVpbnN0YXRlVGltZXI7XG4gICAgICAgICAgICAgICAgbGV0IHJlY29ubmVjdEF0dGVtcHRzID0gMDtcbiAgICAgICAgICAgICAgICBjYWxsYmFja1Byb21pc2UucHJvbWlzZS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KGtlZXBBbGl2ZVBpbmcpO1xuICAgICAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQoa2VlcEFsaXZlUmVpbnN0YXRlVGltZXIpO1xuICAgICAgICAgICAgICAgICAgICBzb2NrZXQuY2xvc2UoMTAwMCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgY29uc3QgY29ubmVjdCA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgICAgICAgICAgICAgc29ja2V0ID0gdHlwZW9mICgoX2EgPSBnbG9iYWxUaGlzKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuTW9ja2VkV2ViU29ja2V0KSAhPT0gX3UgJiYgdHlwZW9mIGplc3QgIT09IF91XG4gICAgICAgICAgICAgICAgICAgICAgICA/IG5ldyAoKF9iID0gZ2xvYmFsVGhpcykgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLk1vY2tlZFdlYlNvY2tldCkoJ3dzOi8veHVtbS5sb2NhbCcpXG4gICAgICAgICAgICAgICAgICAgICAgICA6IG5ldyB3ZWJzb2NrZXRfMS53M2N3ZWJzb2NrZXQodGhpcy5NZXRhLmVuZHBvaW50LnJlcGxhY2UoL15odHRwLywgJ3dzJykgKyAnL3NpZ24vJyArIHBheWxvYWREZXRhaWxzLm1ldGEudXVpZCk7XG4gICAgICAgICAgICAgICAgICAgIHNvY2tldC5vbm9wZW4gPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhgUGF5bG9hZCAke3BheWxvYWREZXRhaWxzLm1ldGEudXVpZH06IHN1YnNjcmlwdGlvbiBhY3RpdmUgKFdlYlNvY2tldCBvcGVuZWQpYCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBrZWVwQWxpdmVQaW5nID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvZ1dzKCdTZW5kIGtlZXBhbGl2ZScpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNvY2tldC5zZW5kKCd7XCJwaW5nXCI6dHJ1ZX0nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIHNvY2tldEtlZXBhbGl2ZVNlbmRTZWNvbmRzICogMTAwMCk7XG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIHNvY2tldC5vbm1lc3NhZ2UgPSAoTWVzc2FnZUV2ZW50KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZWNvbm5lY3RBdHRlbXB0cyA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBtID0gTWVzc2FnZUV2ZW50LmRhdGE7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQganNvbiA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAganNvbiA9IEpTT04ucGFyc2UobS50b1N0cmluZygpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoKGpzb24gPT09IG51bGwgfHwganNvbiA9PT0gdm9pZCAwID8gdm9pZCAwIDoganNvbi5tZXNzYWdlKSAmJiBqc29uLm1lc3NhZ2UgPT09ICdSaWdodCBiYWNrIGF0IHlvdSEnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEtlZXBhbGl2ZSByZXNwb25zZXNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9nV3MoJ0tlZXBhbGl2ZSByZXNwb25zZScpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQoa2VlcEFsaXZlUmVpbnN0YXRlVGltZXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZWVwQWxpdmVSZWluc3RhdGVUaW1lciA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coYFdlYlNvY2tldCBmb3IgJHtwYXlsb2FkRGV0YWlscy5tZXRhLnV1aWR9IGAgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGBrZWVwYWxpdmUgcmVzcG9uc2UgdGltZW91dCwgYXNzdW1lIGRlYWQuLi4gKFJlY29ubmVjdClgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNvY2tldC5jbG9zZSgxMDAyLCAnQXNzdW1lIGRlYWQnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgc29ja2V0S2VlcGFsaXZlVGltZW91dFNlY29uZHMgKiAxMDAwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoKGpzb24gPT09IG51bGwgfHwganNvbiA9PT0gdm9pZCAwID8gdm9pZCAwIDoganNvbi5zaWduZWQpIHx8IChqc29uID09PSBudWxsIHx8IGpzb24gPT09IHZvaWQgMCA/IHZvaWQgMCA6IGpzb24uZXhwaXJlZCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gVGhlIHBheWxvYWQgaGFzIGJlZW4gc2lnbmVkIG9yIGV4cGlyZWQsIHVwZGF0ZSB0aGUgcmVmZXJlbmNlZCBwYXlsb2FkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHVwZGF0ZWRQYXlsb2FkRGV0YWlscyA9IHlpZWxkIHRoaXMucmVzb2x2ZVBheWxvYWQocGF5bG9hZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE9iamVjdC5hc3NpZ24ocGF5bG9hZERldGFpbHMsIE9iamVjdC5hc3NpZ24oe30sIHVwZGF0ZWRQYXlsb2FkRGV0YWlscykpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gRG8gbm90aGluZ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvZ1dzKGBQYXlsb2FkICR7cGF5bG9hZERldGFpbHMubWV0YS51dWlkfTogUmVjZWl2ZWQgbWVzc2FnZSwgdW5hYmxlIHRvIHBhcnNlIGFzIEpTT05gLCBlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChqc29uICYmIGNhbGxiYWNrICYmIHR5cGVvZiBqc29uLmRldmFwcF9mZXRjaGVkID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGxvZyhgUGF5bG9hZCAke3BheWxvYWR9YCwganNvbilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY2FsbGJhY2tSZXN1bHQgPSB5aWVsZCBjYWxsYmFjayh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1dWlkOiBwYXlsb2FkRGV0YWlscy5tZXRhLnV1aWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiBqc29uLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShyZXNvbHZlRGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHlpZWxkIGNhbGxiYWNrUHJvbWlzZS5yZXNvbHZlKHJlc29sdmVEYXRhIHx8IHVuZGVmaW5lZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGF5bG9hZDogcGF5bG9hZERldGFpbHNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjYWxsYmFja1Jlc3VsdCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFja1Byb21pc2UucmVzb2x2ZShjYWxsYmFja1Jlc3VsdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gRG8gbm90aGluZ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2dXcyhgUGF5bG9hZCAke3BheWxvYWREZXRhaWxzLm1ldGEudXVpZH06IENhbGxiYWNrIGV4Y2VwdGlvbmAsIGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBUaGlzIG9uZSBlbWl0IGZvciBkZXZzIHRvIGtub3cgYWJvdXQgdGhpcyBwcm9ibGVtXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGBQYXlsb2FkICR7cGF5bG9hZERldGFpbHMubWV0YS51dWlkfTogQ2FsbGJhY2sgZXhjZXB0aW9uOiAke2UubWVzc2FnZX1gKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBzb2NrZXQub25jbG9zZSA9IChfZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgbG9nV3MoJ0Nsb3NlZCBbY29kZV0nLCBfZS5jb2RlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvZ1dzKCdDbG9zZWQgW3JlYXNvbl0nLCBfZS5yZWFzb24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgbG9nV3MoJ0Nsb3NlZCBbd2FzQ2xlYW5dJywgX2Uud2FzQ2xlYW4pO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChrZWVwQWxpdmVQaW5nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dChrZWVwQWxpdmVSZWluc3RhdGVUaW1lcik7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBSZWNvbm5lY3RcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfZS5jb2RlID4gMTAwMCB8fCBfZS53YXNDbGVhbiA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhfZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9nV3MoJ1VuaGVhbHRoeSBkaXNjb25uZWN0LCByZWNvbm5lY3RpbmcuLi4nLCBfZS5jb2RlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVjb25uZWN0QXR0ZW1wdHMgPCBtYXhTb2NrZXRDb25uZWN0QXR0ZW1wdHMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlY29ubmVjdEF0dGVtcHRzID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhgV2ViU29ja2V0IGZvciAke3BheWxvYWREZXRhaWxzLm1ldGEudXVpZH0gbG9zdCwgcmVjb25uZWN0aW5nLi4uYCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWNvbm5lY3RBdHRlbXB0cysrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9nV3MoJyMgUmVjb25uZWN0Jyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGplc3QgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc29ja2V0ID0gY29ubmVjdCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBzb2NrZXRDb25uZWN0QXR0ZW1wdFNlY29uZHNEZWxheSAqIDEwMDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBqZXN0ID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coYFdlYlNvY2tldCBmb3IgJHtwYXlsb2FkRGV0YWlscy5tZXRhLnV1aWR9IGV4Y2VlZGVkIHJlY29ubmVjdCB0aW1lb3V0cywgZ2l2ZSB1cGApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gU29ja2V0IGNsb3NlZCBvbiBwdXJwb3NlICg/KVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgbG9nV3MoYFBheWxvYWQgJHtwYXlsb2FkRGV0YWlscy5tZXRhLnV1aWR9OiBTdWJzY3JpcHRpb24gZW5kZWQgKFdlYlNvY2tldCBjbG9zZWQpYCk7XG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBzb2NrZXQ7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBzb2NrZXQgPSBjb25uZWN0KCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgcGF5bG9hZDogcGF5bG9hZERldGFpbHMsXG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUocmVzb2x2ZURhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrUHJvbWlzZS5yZXNvbHZlKHJlc29sdmVEYXRhIHx8IHVuZGVmaW5lZCk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmVkOiBjYWxsYmFja1Byb21pc2UucHJvbWlzZSxcbiAgICAgICAgICAgICAgICAgICAgd2Vic29ja2V0OiBzb2NrZXRcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdXRpbHNfMS50aHJvd0lmRXJyb3IocGF5bG9hZERldGFpbHMpO1xuICAgICAgICAgICAgdGhyb3cgRXJyb3IoYENvdWxkbid0IHN1YnNjcmliZTogY291bGRuJ3QgZmV0Y2ggcGF5bG9hZGApO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgY2FuY2VsKHBheWxvYWQsIHJldHVybkVycm9ycyA9IGZhbHNlKSB7XG4gICAgICAgIHZhciBfYSwgX2IsIF9jO1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgY29uc3QgZnVsbFBheWxvYWQgPSB5aWVsZCB0aGlzLnJlc29sdmVQYXlsb2FkKHBheWxvYWQpO1xuICAgICAgICAgICAgY29uc3QgY2FsbCA9IHlpZWxkIHRoaXMuTWV0YS5jYWxsKCdwYXlsb2FkLycgKyAoKF9hID0gZnVsbFBheWxvYWQgPT09IG51bGwgfHwgZnVsbFBheWxvYWQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGZ1bGxQYXlsb2FkLm1ldGEpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS51dWlkKSwgJ0RFTEVURScpO1xuICAgICAgICAgICAgaWYgKHJldHVybkVycm9ycykge1xuICAgICAgICAgICAgICAgIHV0aWxzXzEudGhyb3dJZkVycm9yKGNhbGwpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgaXNWYWxpZFJlc3BvbnNlID0gKChfYyA9IChfYiA9IGNhbGwpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5tZXRhKSA9PT0gbnVsbCB8fCBfYyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2MudXVpZCkgIT09IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIGlmICghaXNWYWxpZFJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gY2FsbDtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGNyZWF0ZUFuZFN1YnNjcmliZShwYXlsb2FkLCBjYWxsYmFjaykge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgY29uc3QgY3JlYXRlZFBheWxvYWQgPSB5aWVsZCB0aGlzLmNyZWF0ZShwYXlsb2FkLCB0cnVlKTtcbiAgICAgICAgICAgIGlmIChjcmVhdGVkUGF5bG9hZCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHN1YnNjcmlwdGlvbiA9IHlpZWxkIHRoaXMuc3Vic2NyaWJlKGNyZWF0ZWRQYXlsb2FkLCBjYWxsYmFjayk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oeyBjcmVhdGVkOiBjcmVhdGVkUGF5bG9hZCB9LCBzdWJzY3JpcHRpb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBFcnJvciBjcmVhdGluZyBwYXlsb2FkIG9yIHN1YnNjcmliaW5nIHRvIGNyZWF0ZWQgcGF5bG9hZGApO1xuICAgICAgICB9KTtcbiAgICB9XG59XG5leHBvcnRzLlBheWxvYWQgPSBQYXlsb2FkO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/xumm-sdk/dist/src/Payload.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/xumm-sdk/dist/src/Push.js":
/*!************************************************!*\
  !*** ./node_modules/xumm-sdk/dist/src/Push.js ***!
  \************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Push = void 0;\nconst debug_1 = __webpack_require__(/*! debug */ \"(ssr)/./node_modules/debug/src/index.js\");\nconst JwtUserdata_1 = __webpack_require__(/*! ./JwtUserdata */ \"(ssr)/./node_modules/xumm-sdk/dist/src/JwtUserdata.js\");\nconst utils_1 = __webpack_require__(/*! ./utils */ \"(ssr)/./node_modules/xumm-sdk/dist/src/utils.js\");\nconst log = debug_1.debug('xumm-sdk:xapp');\nclass Push {\n    constructor(MetaObject) {\n        log('Constructed');\n        this.Meta = MetaObject;\n        // Backwards compatibility for old Sdk.xApp.userdata users\n        // - as xApps used to be the only JWT issuing env. - PKCE now is as well\n        this.userdata = new JwtUserdata_1.JwtUserdata(MetaObject);\n    }\n    event(data) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const call = yield this.Meta.call('xapp/event', 'POST', data);\n            utils_1.throwIfError(call);\n            return call;\n        });\n    }\n    notification(data) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const call = yield this.Meta.call('xapp/push', 'POST', data);\n            utils_1.throwIfError(call);\n            return call;\n        });\n    }\n}\nexports.Push = Push;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMveHVtbS1zZGsvZGlzdC9zcmMvUHVzaC5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiO0FBQ0EsNEJBQTRCLCtEQUErRCxpQkFBaUI7QUFDNUc7QUFDQSxvQ0FBb0MsTUFBTSwrQkFBK0IsWUFBWTtBQUNyRixtQ0FBbUMsTUFBTSxtQ0FBbUMsWUFBWTtBQUN4RixnQ0FBZ0M7QUFDaEM7QUFDQSxLQUFLO0FBQ0w7QUFDQSw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsWUFBWTtBQUNaLGdCQUFnQixtQkFBTyxDQUFDLHNEQUFPO0FBQy9CLHNCQUFzQixtQkFBTyxDQUFDLDRFQUFlO0FBQzdDLGdCQUFnQixtQkFBTyxDQUFDLGdFQUFTO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxZQUFZIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbWljcm9sZW5kZXIvLi9ub2RlX21vZHVsZXMveHVtbS1zZGsvZGlzdC9zcmMvUHVzaC5qcz84MDM1Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xudmFyIF9fYXdhaXRlciA9ICh0aGlzICYmIHRoaXMuX19hd2FpdGVyKSB8fCBmdW5jdGlvbiAodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XG4gICAgZnVuY3Rpb24gYWRvcHQodmFsdWUpIHsgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUCA/IHZhbHVlIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHsgcmVzb2x2ZSh2YWx1ZSk7IH0pOyB9XG4gICAgcmV0dXJuIG5ldyAoUCB8fCAoUCA9IFByb21pc2UpKShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgICAgIGZ1bmN0aW9uIHN0ZXAocmVzdWx0KSB7IHJlc3VsdC5kb25lID8gcmVzb2x2ZShyZXN1bHQudmFsdWUpIDogYWRvcHQocmVzdWx0LnZhbHVlKS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpOyB9XG4gICAgICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcbiAgICB9KTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLlB1c2ggPSB2b2lkIDA7XG5jb25zdCBkZWJ1Z18xID0gcmVxdWlyZShcImRlYnVnXCIpO1xuY29uc3QgSnd0VXNlcmRhdGFfMSA9IHJlcXVpcmUoXCIuL0p3dFVzZXJkYXRhXCIpO1xuY29uc3QgdXRpbHNfMSA9IHJlcXVpcmUoXCIuL3V0aWxzXCIpO1xuY29uc3QgbG9nID0gZGVidWdfMS5kZWJ1ZygneHVtbS1zZGs6eGFwcCcpO1xuY2xhc3MgUHVzaCB7XG4gICAgY29uc3RydWN0b3IoTWV0YU9iamVjdCkge1xuICAgICAgICBsb2coJ0NvbnN0cnVjdGVkJyk7XG4gICAgICAgIHRoaXMuTWV0YSA9IE1ldGFPYmplY3Q7XG4gICAgICAgIC8vIEJhY2t3YXJkcyBjb21wYXRpYmlsaXR5IGZvciBvbGQgU2RrLnhBcHAudXNlcmRhdGEgdXNlcnNcbiAgICAgICAgLy8gLSBhcyB4QXBwcyB1c2VkIHRvIGJlIHRoZSBvbmx5IEpXVCBpc3N1aW5nIGVudi4gLSBQS0NFIG5vdyBpcyBhcyB3ZWxsXG4gICAgICAgIHRoaXMudXNlcmRhdGEgPSBuZXcgSnd0VXNlcmRhdGFfMS5Kd3RVc2VyZGF0YShNZXRhT2JqZWN0KTtcbiAgICB9XG4gICAgZXZlbnQoZGF0YSkge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgY29uc3QgY2FsbCA9IHlpZWxkIHRoaXMuTWV0YS5jYWxsKCd4YXBwL2V2ZW50JywgJ1BPU1QnLCBkYXRhKTtcbiAgICAgICAgICAgIHV0aWxzXzEudGhyb3dJZkVycm9yKGNhbGwpO1xuICAgICAgICAgICAgcmV0dXJuIGNhbGw7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBub3RpZmljYXRpb24oZGF0YSkge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgY29uc3QgY2FsbCA9IHlpZWxkIHRoaXMuTWV0YS5jYWxsKCd4YXBwL3B1c2gnLCAnUE9TVCcsIGRhdGEpO1xuICAgICAgICAgICAgdXRpbHNfMS50aHJvd0lmRXJyb3IoY2FsbCk7XG4gICAgICAgICAgICByZXR1cm4gY2FsbDtcbiAgICAgICAgfSk7XG4gICAgfVxufVxuZXhwb3J0cy5QdXNoID0gUHVzaDtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/xumm-sdk/dist/src/Push.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/xumm-sdk/dist/src/Storage.js":
/*!***************************************************!*\
  !*** ./node_modules/xumm-sdk/dist/src/Storage.js ***!
  \***************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Storage = void 0;\nconst debug_1 = __webpack_require__(/*! debug */ \"(ssr)/./node_modules/debug/src/index.js\");\nconst utils_1 = __webpack_require__(/*! ./utils */ \"(ssr)/./node_modules/xumm-sdk/dist/src/utils.js\");\nconst log = debug_1.debug('xumm-sdk:storage');\nclass Storage {\n    constructor(MetaObject) {\n        log('Constructed');\n        this.Meta = MetaObject;\n    }\n    get() {\n        return __awaiter(this, void 0, void 0, function* () {\n            const call = yield this.Meta.call('app-storage', 'GET');\n            utils_1.throwIfError(call);\n            return call.data;\n        });\n    }\n    set(data) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const call = yield this.Meta.call('app-storage', 'POST', data);\n            utils_1.throwIfError(call);\n            return call.stored;\n        });\n    }\n    delete() {\n        return __awaiter(this, void 0, void 0, function* () {\n            const call = yield this.Meta.call('app-storage', 'DELETE');\n            utils_1.throwIfError(call);\n            return call.stored;\n        });\n    }\n}\nexports.Storage = Storage;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMveHVtbS1zZGsvZGlzdC9zcmMvU3RvcmFnZS5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiO0FBQ0EsNEJBQTRCLCtEQUErRCxpQkFBaUI7QUFDNUc7QUFDQSxvQ0FBb0MsTUFBTSwrQkFBK0IsWUFBWTtBQUNyRixtQ0FBbUMsTUFBTSxtQ0FBbUMsWUFBWTtBQUN4RixnQ0FBZ0M7QUFDaEM7QUFDQSxLQUFLO0FBQ0w7QUFDQSw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsZUFBZTtBQUNmLGdCQUFnQixtQkFBTyxDQUFDLHNEQUFPO0FBQy9CLGdCQUFnQixtQkFBTyxDQUFDLGdFQUFTO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsZUFBZSIsInNvdXJjZXMiOlsid2VicGFjazovL21pY3JvbGVuZGVyLy4vbm9kZV9tb2R1bGVzL3h1bW0tc2RrL2Rpc3Qvc3JjL1N0b3JhZ2UuanM/MDFlMiJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2F3YWl0ZXIgPSAodGhpcyAmJiB0aGlzLl9fYXdhaXRlcikgfHwgZnVuY3Rpb24gKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xuICAgIGZ1bmN0aW9uIGFkb3B0KHZhbHVlKSB7IHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFAgPyB2YWx1ZSA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJlc29sdmUodmFsdWUpOyB9KTsgfVxuICAgIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgICAgIGZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yW1widGhyb3dcIl0odmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IGFkb3B0KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfVxuICAgICAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XG4gICAgfSk7XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5TdG9yYWdlID0gdm9pZCAwO1xuY29uc3QgZGVidWdfMSA9IHJlcXVpcmUoXCJkZWJ1Z1wiKTtcbmNvbnN0IHV0aWxzXzEgPSByZXF1aXJlKFwiLi91dGlsc1wiKTtcbmNvbnN0IGxvZyA9IGRlYnVnXzEuZGVidWcoJ3h1bW0tc2RrOnN0b3JhZ2UnKTtcbmNsYXNzIFN0b3JhZ2Uge1xuICAgIGNvbnN0cnVjdG9yKE1ldGFPYmplY3QpIHtcbiAgICAgICAgbG9nKCdDb25zdHJ1Y3RlZCcpO1xuICAgICAgICB0aGlzLk1ldGEgPSBNZXRhT2JqZWN0O1xuICAgIH1cbiAgICBnZXQoKSB7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICBjb25zdCBjYWxsID0geWllbGQgdGhpcy5NZXRhLmNhbGwoJ2FwcC1zdG9yYWdlJywgJ0dFVCcpO1xuICAgICAgICAgICAgdXRpbHNfMS50aHJvd0lmRXJyb3IoY2FsbCk7XG4gICAgICAgICAgICByZXR1cm4gY2FsbC5kYXRhO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgc2V0KGRhdGEpIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIGNvbnN0IGNhbGwgPSB5aWVsZCB0aGlzLk1ldGEuY2FsbCgnYXBwLXN0b3JhZ2UnLCAnUE9TVCcsIGRhdGEpO1xuICAgICAgICAgICAgdXRpbHNfMS50aHJvd0lmRXJyb3IoY2FsbCk7XG4gICAgICAgICAgICByZXR1cm4gY2FsbC5zdG9yZWQ7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBkZWxldGUoKSB7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICBjb25zdCBjYWxsID0geWllbGQgdGhpcy5NZXRhLmNhbGwoJ2FwcC1zdG9yYWdlJywgJ0RFTEVURScpO1xuICAgICAgICAgICAgdXRpbHNfMS50aHJvd0lmRXJyb3IoY2FsbCk7XG4gICAgICAgICAgICByZXR1cm4gY2FsbC5zdG9yZWQ7XG4gICAgICAgIH0pO1xuICAgIH1cbn1cbmV4cG9ydHMuU3RvcmFnZSA9IFN0b3JhZ2U7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/xumm-sdk/dist/src/Storage.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/xumm-sdk/dist/src/index.js":
/*!*************************************************!*\
  !*** ./node_modules/xumm-sdk/dist/src/index.js ***!
  \*************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.XummSdkJwt = exports.XummSdk = void 0;\nconst debug_1 = __webpack_require__(/*! debug */ \"(ssr)/./node_modules/debug/src/index.js\");\nconst Meta_1 = __webpack_require__(/*! ./Meta */ \"(ssr)/./node_modules/xumm-sdk/dist/src/Meta.js\");\nconst Storage_1 = __webpack_require__(/*! ./Storage */ \"(ssr)/./node_modules/xumm-sdk/dist/src/Storage.js\");\nconst Payload_1 = __webpack_require__(/*! ./Payload */ \"(ssr)/./node_modules/xumm-sdk/dist/src/Payload.js\");\nconst xApp_1 = __webpack_require__(/*! ./xApp */ \"(ssr)/./node_modules/xumm-sdk/dist/src/xApp.js\");\nconst Push_1 = __webpack_require__(/*! ./Push */ \"(ssr)/./node_modules/xumm-sdk/dist/src/Push.js\");\nconst JwtUserdata_1 = __webpack_require__(/*! ./JwtUserdata */ \"(ssr)/./node_modules/xumm-sdk/dist/src/JwtUserdata.js\");\nconst buffer_1 = __webpack_require__(/*! buffer */ \"buffer\");\nconst log = debug_1.debug('xumm-sdk');\nclass XummSdk {\n    constructor(apiKey, apiSecret) {\n        log('Constructed');\n        this.Meta = new Meta_1.Meta(apiKey || this.getEnv('XUMM_APIKEY'), apiSecret || this.getEnv('XUMM_APISECRET'));\n        this.storage = new Storage_1.Storage(this.Meta);\n        this.payload = new Payload_1.Payload(this.Meta);\n        this.jwtUserdata = new JwtUserdata_1.JwtUserdata(this.Meta);\n        this.Push = new Push_1.Push(this.Meta);\n        this.xApp = new xApp_1.xApp(this.Meta);\n        this.Meta._inject(this);\n        return this;\n    }\n    getEnv(arg) {\n        let value = '';\n        try {\n            value = (process === null || process === void 0 ? void 0 : process.env[arg]) || '';\n        }\n        catch (_e) {\n            // Couldn't load .env\n        }\n        return value;\n    }\n    /**\n     * Proxy methods to Meta class below\n     */\n    ping() {\n        return this.Meta.ping();\n    }\n    getCuratedAssets() {\n        return this.Meta.getCuratedAssets();\n    }\n    getRails() {\n        return this.Meta.getRails();\n    }\n    getHookHashes() {\n        return this.Meta.getHookHashes();\n    }\n    getHookHash(hookHash) {\n        return this.Meta.getHookHash(hookHash);\n    }\n    getRates(currencyCode) {\n        return this.Meta.getRates(currencyCode);\n    }\n    getKycStatus(userTokenOrAccount) {\n        return this.Meta.getKycStatus(userTokenOrAccount);\n    }\n    getTransaction(txHash) {\n        return this.Meta.getTransaction(txHash);\n    }\n    getNftokenDetail(tokenId) {\n        return this.Meta.getNftokenDetail(tokenId);\n    }\n    verifyUserTokens(userTokens) {\n        return this.Meta.verifyUserTokens(userTokens);\n    }\n    verifyUserToken(token) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const tokenResults = yield this.Meta.verifyUserTokens([token]);\n            return Array.isArray(tokenResults) && tokenResults.length === 1\n                ? tokenResults[0]\n                : null;\n        });\n    }\n    setEndpoint(endpoint) {\n        return this.Meta.setEndpoint(endpoint);\n    }\n    caught(error) {\n        throw error;\n    }\n}\nexports.XummSdk = XummSdk;\nclass XummSdkJwt extends XummSdk {\n    constructor(apiKeyOrJwt, ott, options) {\n        var _a, _b, _c, _d, _f, _g, _h, _j;\n        let _ott = String(ott || '').trim().toLowerCase();\n        const isRawJwt = apiKeyOrJwt.length !== 36;\n        /**\n         * xAppToken from URL to param if not explicitly provided\n         */\n        if (!isRawJwt) {\n            if (typeof ott === 'undefined'\n                && typeof window !== 'undefined'\n                && typeof window.URLSearchParams !== 'undefined') {\n                const urlSearchParams = new window.URLSearchParams(((_a = window === null || window === void 0 ? void 0 : window.location) === null || _a === void 0 ? void 0 : _a.search) || '');\n                for (const pair of urlSearchParams.entries()) {\n                    if (pair[0] === 'xAppToken') {\n                        _ott = pair[1].toLowerCase().trim();\n                    }\n                }\n                if (_ott === '' && !(options === null || options === void 0 ? void 0 : options.store) && !(options === null || options === void 0 ? void 0 : options.noAutoRetrieve)) {\n                    // Check if we have something in history\n                    if (typeof ((_b = window === null || window === void 0 ? void 0 : window.localStorage) === null || _b === void 0 ? void 0 : _b['XummSdkJwt']) === 'string') {\n                        try {\n                            const localStorageJwtData = (_d = (_c = window === null || window === void 0 ? void 0 : window.localStorage) === null || _c === void 0 ? void 0 : _c['XummSdkJwt']) === null || _d === void 0 ? void 0 : _d.split(':');\n                            const localStorageJwt = JSON.parse((_f = localStorageJwtData === null || localStorageJwtData === void 0 ? void 0 : localStorageJwtData.slice(1)) === null || _f === void 0 ? void 0 : _f.join(':'));\n                            if (localStorageJwt === null || localStorageJwt === void 0 ? void 0 : localStorageJwt.jwt) {\n                                const decodedJwt = buffer_1.Buffer.from((_g = localStorageJwt.jwt.split('.')) === null || _g === void 0 ? void 0 : _g[1], 'base64').toString('utf8');\n                                const jwtContents = JSON.parse(decodedJwt);\n                                if (jwtContents === null || jwtContents === void 0 ? void 0 : jwtContents.exp) {\n                                    const validForSec = (jwtContents === null || jwtContents === void 0 ? void 0 : jwtContents.exp) - Math.floor((new Date()).getTime() / 1000);\n                                    console.log('Restoring OTT ' + (localStorageJwtData === null || localStorageJwtData === void 0 ? void 0 : localStorageJwtData[0]));\n                                    if (validForSec > 60 * 60) {\n                                        _ott = localStorageJwtData === null || localStorageJwtData === void 0 ? void 0 : localStorageJwtData[0];\n                                    }\n                                    else {\n                                        console.log('Skip restore: not valid for one more hour');\n                                    }\n                                }\n                            }\n                        }\n                        catch (e) {\n                            console.log('JWT Restore Error', e);\n                        }\n                    }\n                }\n            }\n        }\n        super(apiKeyOrJwt, !isRawJwt && _ott !== ''\n            ? 'xApp:OneTimeToken:' + _ott\n            : 'RAWJWT:' + apiKeyOrJwt);\n        this.resolve = (ottData) => {\n            log('OTT data resolved', ottData);\n        };\n        this.reject = (error) => {\n            log('OTT data rejected', error.message);\n        };\n        this.ottResolved = isRawJwt\n            ? Promise.resolve()\n            : new Promise((resolve, reject) => {\n                this.resolve = resolve;\n                this.reject = reject;\n            });\n        if (options === null || options === void 0 ? void 0 : options.fatalHandler) {\n            this.fatalHandler = options.fatalHandler;\n        }\n        this.store = {\n            get(uuid) {\n                var _a;\n                log('[JwtStore]  Builtin JWT store GET');\n                // Default store: localStorage\n                if (typeof window !== 'undefined' && typeof window.localStorage !== 'undefined') {\n                    if (typeof window.localStorage['XummSdkJwt'] === 'string') {\n                        const lsOttData = window.localStorage['XummSdkJwt'].split(':');\n                        if (lsOttData[0] === uuid) {\n                            // Restore from memory\n                            log('Restoring OTT from localStorage:', uuid);\n                            try {\n                                return JSON.parse(lsOttData.slice(1).join(':'));\n                            }\n                            catch (e) {\n                                log('Error restoring OTT Data (JWT) from localStorage', (_a = e) === null || _a === void 0 ? void 0 : _a.message);\n                            }\n                        }\n                    }\n                }\n            },\n            set(uuid, ottData) {\n                log('[JwtStore]  Builtin JWT store SET', uuid);\n                // Default store: localStorage\n                if (typeof window !== 'undefined' && typeof localStorage !== 'undefined') {\n                    window.localStorage['XummSdkJwt'] = uuid + ':' + JSON.stringify(ottData);\n                }\n            }\n        };\n        if ((_h = options === null || options === void 0 ? void 0 : options.store) === null || _h === void 0 ? void 0 : _h.get) {\n            this.store.get = options.store.get;\n        }\n        if ((_j = options === null || options === void 0 ? void 0 : options.store) === null || _j === void 0 ? void 0 : _j.set) {\n            this.store.set = options.store.set;\n        }\n        if (isRawJwt) {\n            this.reject(new Error('Not in OTT flow: in raw JWT (OAuth2-like) flow'));\n            log('Using JWT (Raw, OAuth2) flow');\n        }\n        else {\n            log('Using JWT (xApp) flow');\n        }\n    }\n    _jwtStore(invoker, persistJwt) {\n        if (invoker && (invoker === null || invoker === void 0 ? void 0 : invoker.constructor) === Meta_1.Meta) {\n            return {\n                get: uuid => {\n                    var _a;\n                    log('[JwtStore] Proxy GET');\n                    return (_a = this.store) === null || _a === void 0 ? void 0 : _a.get(uuid);\n                },\n                set: (uuid, ottData) => {\n                    var _a;\n                    log('[JwtStore] Proxy SET');\n                    this.resolve(ottData.ott);\n                    persistJwt(ottData.jwt);\n                    this.jwt = ottData.jwt;\n                    return (_a = this.store) === null || _a === void 0 ? void 0 : _a.set(uuid, ottData);\n                }\n            };\n        }\n        throw new Error('Invalid _jwtStore invoker');\n    }\n    getOttData() {\n        return __awaiter(this, void 0, void 0, function* () {\n            const resolved = yield this.ottResolved;\n            if (resolved) {\n                return resolved;\n            }\n            throw new Error('Called getOttData on a non OTT-JWT flow');\n        });\n    }\n    getJwt() {\n        return __awaiter(this, void 0, void 0, function* () {\n            yield this.ottResolved;\n            return this.jwt;\n        });\n    }\n    caught(error) {\n        this.reject(error);\n    }\n}\nexports.XummSdkJwt = XummSdkJwt;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMveHVtbS1zZGsvZGlzdC9zcmMvaW5kZXguanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBLDRCQUE0QiwrREFBK0QsaUJBQWlCO0FBQzVHO0FBQ0Esb0NBQW9DLE1BQU0sK0JBQStCLFlBQVk7QUFDckYsbUNBQW1DLE1BQU0sbUNBQW1DLFlBQVk7QUFDeEYsZ0NBQWdDO0FBQ2hDO0FBQ0EsS0FBSztBQUNMO0FBQ0EsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELGtCQUFrQixHQUFHLGVBQWU7QUFDcEMsZ0JBQWdCLG1CQUFPLENBQUMsc0RBQU87QUFDL0IsZUFBZSxtQkFBTyxDQUFDLDhEQUFRO0FBQy9CLGtCQUFrQixtQkFBTyxDQUFDLG9FQUFXO0FBQ3JDLGtCQUFrQixtQkFBTyxDQUFDLG9FQUFXO0FBQ3JDLGVBQWUsbUJBQU8sQ0FBQyw4REFBUTtBQUMvQixlQUFlLG1CQUFPLENBQUMsOERBQVE7QUFDL0Isc0JBQXNCLG1CQUFPLENBQUMsNEVBQWU7QUFDN0MsaUJBQWlCLG1CQUFPLENBQUMsc0JBQVE7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbWljcm9sZW5kZXIvLi9ub2RlX21vZHVsZXMveHVtbS1zZGsvZGlzdC9zcmMvaW5kZXguanM/ODcwZSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2F3YWl0ZXIgPSAodGhpcyAmJiB0aGlzLl9fYXdhaXRlcikgfHwgZnVuY3Rpb24gKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xuICAgIGZ1bmN0aW9uIGFkb3B0KHZhbHVlKSB7IHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFAgPyB2YWx1ZSA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJlc29sdmUodmFsdWUpOyB9KTsgfVxuICAgIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgICAgIGZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yW1widGhyb3dcIl0odmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IGFkb3B0KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfVxuICAgICAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XG4gICAgfSk7XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5YdW1tU2RrSnd0ID0gZXhwb3J0cy5YdW1tU2RrID0gdm9pZCAwO1xuY29uc3QgZGVidWdfMSA9IHJlcXVpcmUoXCJkZWJ1Z1wiKTtcbmNvbnN0IE1ldGFfMSA9IHJlcXVpcmUoXCIuL01ldGFcIik7XG5jb25zdCBTdG9yYWdlXzEgPSByZXF1aXJlKFwiLi9TdG9yYWdlXCIpO1xuY29uc3QgUGF5bG9hZF8xID0gcmVxdWlyZShcIi4vUGF5bG9hZFwiKTtcbmNvbnN0IHhBcHBfMSA9IHJlcXVpcmUoXCIuL3hBcHBcIik7XG5jb25zdCBQdXNoXzEgPSByZXF1aXJlKFwiLi9QdXNoXCIpO1xuY29uc3QgSnd0VXNlcmRhdGFfMSA9IHJlcXVpcmUoXCIuL0p3dFVzZXJkYXRhXCIpO1xuY29uc3QgYnVmZmVyXzEgPSByZXF1aXJlKFwiYnVmZmVyXCIpO1xuY29uc3QgbG9nID0gZGVidWdfMS5kZWJ1ZygneHVtbS1zZGsnKTtcbmNsYXNzIFh1bW1TZGsge1xuICAgIGNvbnN0cnVjdG9yKGFwaUtleSwgYXBpU2VjcmV0KSB7XG4gICAgICAgIGxvZygnQ29uc3RydWN0ZWQnKTtcbiAgICAgICAgdGhpcy5NZXRhID0gbmV3IE1ldGFfMS5NZXRhKGFwaUtleSB8fCB0aGlzLmdldEVudignWFVNTV9BUElLRVknKSwgYXBpU2VjcmV0IHx8IHRoaXMuZ2V0RW52KCdYVU1NX0FQSVNFQ1JFVCcpKTtcbiAgICAgICAgdGhpcy5zdG9yYWdlID0gbmV3IFN0b3JhZ2VfMS5TdG9yYWdlKHRoaXMuTWV0YSk7XG4gICAgICAgIHRoaXMucGF5bG9hZCA9IG5ldyBQYXlsb2FkXzEuUGF5bG9hZCh0aGlzLk1ldGEpO1xuICAgICAgICB0aGlzLmp3dFVzZXJkYXRhID0gbmV3IEp3dFVzZXJkYXRhXzEuSnd0VXNlcmRhdGEodGhpcy5NZXRhKTtcbiAgICAgICAgdGhpcy5QdXNoID0gbmV3IFB1c2hfMS5QdXNoKHRoaXMuTWV0YSk7XG4gICAgICAgIHRoaXMueEFwcCA9IG5ldyB4QXBwXzEueEFwcCh0aGlzLk1ldGEpO1xuICAgICAgICB0aGlzLk1ldGEuX2luamVjdCh0aGlzKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIGdldEVudihhcmcpIHtcbiAgICAgICAgbGV0IHZhbHVlID0gJyc7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB2YWx1ZSA9IChwcm9jZXNzID09PSBudWxsIHx8IHByb2Nlc3MgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHByb2Nlc3MuZW52W2FyZ10pIHx8ICcnO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChfZSkge1xuICAgICAgICAgICAgLy8gQ291bGRuJ3QgbG9hZCAuZW52XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBQcm94eSBtZXRob2RzIHRvIE1ldGEgY2xhc3MgYmVsb3dcbiAgICAgKi9cbiAgICBwaW5nKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5NZXRhLnBpbmcoKTtcbiAgICB9XG4gICAgZ2V0Q3VyYXRlZEFzc2V0cygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuTWV0YS5nZXRDdXJhdGVkQXNzZXRzKCk7XG4gICAgfVxuICAgIGdldFJhaWxzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5NZXRhLmdldFJhaWxzKCk7XG4gICAgfVxuICAgIGdldEhvb2tIYXNoZXMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLk1ldGEuZ2V0SG9va0hhc2hlcygpO1xuICAgIH1cbiAgICBnZXRIb29rSGFzaChob29rSGFzaCkge1xuICAgICAgICByZXR1cm4gdGhpcy5NZXRhLmdldEhvb2tIYXNoKGhvb2tIYXNoKTtcbiAgICB9XG4gICAgZ2V0UmF0ZXMoY3VycmVuY3lDb2RlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLk1ldGEuZ2V0UmF0ZXMoY3VycmVuY3lDb2RlKTtcbiAgICB9XG4gICAgZ2V0S3ljU3RhdHVzKHVzZXJUb2tlbk9yQWNjb3VudCkge1xuICAgICAgICByZXR1cm4gdGhpcy5NZXRhLmdldEt5Y1N0YXR1cyh1c2VyVG9rZW5PckFjY291bnQpO1xuICAgIH1cbiAgICBnZXRUcmFuc2FjdGlvbih0eEhhc2gpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuTWV0YS5nZXRUcmFuc2FjdGlvbih0eEhhc2gpO1xuICAgIH1cbiAgICBnZXROZnRva2VuRGV0YWlsKHRva2VuSWQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuTWV0YS5nZXROZnRva2VuRGV0YWlsKHRva2VuSWQpO1xuICAgIH1cbiAgICB2ZXJpZnlVc2VyVG9rZW5zKHVzZXJUb2tlbnMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuTWV0YS52ZXJpZnlVc2VyVG9rZW5zKHVzZXJUb2tlbnMpO1xuICAgIH1cbiAgICB2ZXJpZnlVc2VyVG9rZW4odG9rZW4pIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIGNvbnN0IHRva2VuUmVzdWx0cyA9IHlpZWxkIHRoaXMuTWV0YS52ZXJpZnlVc2VyVG9rZW5zKFt0b2tlbl0pO1xuICAgICAgICAgICAgcmV0dXJuIEFycmF5LmlzQXJyYXkodG9rZW5SZXN1bHRzKSAmJiB0b2tlblJlc3VsdHMubGVuZ3RoID09PSAxXG4gICAgICAgICAgICAgICAgPyB0b2tlblJlc3VsdHNbMF1cbiAgICAgICAgICAgICAgICA6IG51bGw7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBzZXRFbmRwb2ludChlbmRwb2ludCkge1xuICAgICAgICByZXR1cm4gdGhpcy5NZXRhLnNldEVuZHBvaW50KGVuZHBvaW50KTtcbiAgICB9XG4gICAgY2F1Z2h0KGVycm9yKSB7XG4gICAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbn1cbmV4cG9ydHMuWHVtbVNkayA9IFh1bW1TZGs7XG5jbGFzcyBYdW1tU2RrSnd0IGV4dGVuZHMgWHVtbVNkayB7XG4gICAgY29uc3RydWN0b3IoYXBpS2V5T3JKd3QsIG90dCwgb3B0aW9ucykge1xuICAgICAgICB2YXIgX2EsIF9iLCBfYywgX2QsIF9mLCBfZywgX2gsIF9qO1xuICAgICAgICBsZXQgX290dCA9IFN0cmluZyhvdHQgfHwgJycpLnRyaW0oKS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICBjb25zdCBpc1Jhd0p3dCA9IGFwaUtleU9ySnd0Lmxlbmd0aCAhPT0gMzY7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiB4QXBwVG9rZW4gZnJvbSBVUkwgdG8gcGFyYW0gaWYgbm90IGV4cGxpY2l0bHkgcHJvdmlkZWRcbiAgICAgICAgICovXG4gICAgICAgIGlmICghaXNSYXdKd3QpIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2Ygb3R0ID09PSAndW5kZWZpbmVkJ1xuICAgICAgICAgICAgICAgICYmIHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnXG4gICAgICAgICAgICAgICAgJiYgdHlwZW9mIHdpbmRvdy5VUkxTZWFyY2hQYXJhbXMgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdXJsU2VhcmNoUGFyYW1zID0gbmV3IHdpbmRvdy5VUkxTZWFyY2hQYXJhbXMoKChfYSA9IHdpbmRvdyA9PT0gbnVsbCB8fCB3aW5kb3cgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHdpbmRvdy5sb2NhdGlvbikgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnNlYXJjaCkgfHwgJycpO1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgcGFpciBvZiB1cmxTZWFyY2hQYXJhbXMuZW50cmllcygpKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChwYWlyWzBdID09PSAneEFwcFRva2VuJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgX290dCA9IHBhaXJbMV0udG9Mb3dlckNhc2UoKS50cmltKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKF9vdHQgPT09ICcnICYmICEob3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLnN0b3JlKSAmJiAhKG9wdGlvbnMgPT09IG51bGwgfHwgb3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0aW9ucy5ub0F1dG9SZXRyaWV2ZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gQ2hlY2sgaWYgd2UgaGF2ZSBzb21ldGhpbmcgaW4gaGlzdG9yeVxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mICgoX2IgPSB3aW5kb3cgPT09IG51bGwgfHwgd2luZG93ID09PSB2b2lkIDAgPyB2b2lkIDAgOiB3aW5kb3cubG9jYWxTdG9yYWdlKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2JbJ1h1bW1TZGtKd3QnXSkgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGxvY2FsU3RvcmFnZUp3dERhdGEgPSAoX2QgPSAoX2MgPSB3aW5kb3cgPT09IG51bGwgfHwgd2luZG93ID09PSB2b2lkIDAgPyB2b2lkIDAgOiB3aW5kb3cubG9jYWxTdG9yYWdlKSA9PT0gbnVsbCB8fCBfYyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2NbJ1h1bW1TZGtKd3QnXSkgPT09IG51bGwgfHwgX2QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9kLnNwbGl0KCc6Jyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbG9jYWxTdG9yYWdlSnd0ID0gSlNPTi5wYXJzZSgoX2YgPSBsb2NhbFN0b3JhZ2VKd3REYXRhID09PSBudWxsIHx8IGxvY2FsU3RvcmFnZUp3dERhdGEgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGxvY2FsU3RvcmFnZUp3dERhdGEuc2xpY2UoMSkpID09PSBudWxsIHx8IF9mID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZi5qb2luKCc6JykpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChsb2NhbFN0b3JhZ2VKd3QgPT09IG51bGwgfHwgbG9jYWxTdG9yYWdlSnd0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBsb2NhbFN0b3JhZ2VKd3Quand0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGRlY29kZWRKd3QgPSBidWZmZXJfMS5CdWZmZXIuZnJvbSgoX2cgPSBsb2NhbFN0b3JhZ2VKd3Quand0LnNwbGl0KCcuJykpID09PSBudWxsIHx8IF9nID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZ1sxXSwgJ2Jhc2U2NCcpLnRvU3RyaW5nKCd1dGY4Jyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGp3dENvbnRlbnRzID0gSlNPTi5wYXJzZShkZWNvZGVkSnd0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGp3dENvbnRlbnRzID09PSBudWxsIHx8IGp3dENvbnRlbnRzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBqd3RDb250ZW50cy5leHApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHZhbGlkRm9yU2VjID0gKGp3dENvbnRlbnRzID09PSBudWxsIHx8IGp3dENvbnRlbnRzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBqd3RDb250ZW50cy5leHApIC0gTWF0aC5mbG9vcigobmV3IERhdGUoKSkuZ2V0VGltZSgpIC8gMTAwMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnUmVzdG9yaW5nIE9UVCAnICsgKGxvY2FsU3RvcmFnZUp3dERhdGEgPT09IG51bGwgfHwgbG9jYWxTdG9yYWdlSnd0RGF0YSA9PT0gdm9pZCAwID8gdm9pZCAwIDogbG9jYWxTdG9yYWdlSnd0RGF0YVswXSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbGlkRm9yU2VjID4gNjAgKiA2MCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9vdHQgPSBsb2NhbFN0b3JhZ2VKd3REYXRhID09PSBudWxsIHx8IGxvY2FsU3RvcmFnZUp3dERhdGEgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGxvY2FsU3RvcmFnZUp3dERhdGFbMF07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnU2tpcCByZXN0b3JlOiBub3QgdmFsaWQgZm9yIG9uZSBtb3JlIGhvdXInKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ0pXVCBSZXN0b3JlIEVycm9yJywgZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgc3VwZXIoYXBpS2V5T3JKd3QsICFpc1Jhd0p3dCAmJiBfb3R0ICE9PSAnJ1xuICAgICAgICAgICAgPyAneEFwcDpPbmVUaW1lVG9rZW46JyArIF9vdHRcbiAgICAgICAgICAgIDogJ1JBV0pXVDonICsgYXBpS2V5T3JKd3QpO1xuICAgICAgICB0aGlzLnJlc29sdmUgPSAob3R0RGF0YSkgPT4ge1xuICAgICAgICAgICAgbG9nKCdPVFQgZGF0YSByZXNvbHZlZCcsIG90dERhdGEpO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLnJlamVjdCA9IChlcnJvcikgPT4ge1xuICAgICAgICAgICAgbG9nKCdPVFQgZGF0YSByZWplY3RlZCcsIGVycm9yLm1lc3NhZ2UpO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLm90dFJlc29sdmVkID0gaXNSYXdKd3RcbiAgICAgICAgICAgID8gUHJvbWlzZS5yZXNvbHZlKClcbiAgICAgICAgICAgIDogbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMucmVzb2x2ZSA9IHJlc29sdmU7XG4gICAgICAgICAgICAgICAgdGhpcy5yZWplY3QgPSByZWplY3Q7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgaWYgKG9wdGlvbnMgPT09IG51bGwgfHwgb3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0aW9ucy5mYXRhbEhhbmRsZXIpIHtcbiAgICAgICAgICAgIHRoaXMuZmF0YWxIYW5kbGVyID0gb3B0aW9ucy5mYXRhbEhhbmRsZXI7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zdG9yZSA9IHtcbiAgICAgICAgICAgIGdldCh1dWlkKSB7XG4gICAgICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgICAgIGxvZygnW0p3dFN0b3JlXSDCuyBCdWlsdGluIEpXVCBzdG9yZSBHRVQnKTtcbiAgICAgICAgICAgICAgICAvLyBEZWZhdWx0IHN0b3JlOiBsb2NhbFN0b3JhZ2VcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIHdpbmRvdy5sb2NhbFN0b3JhZ2UgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygd2luZG93LmxvY2FsU3RvcmFnZVsnWHVtbVNka0p3dCddID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbHNPdHREYXRhID0gd2luZG93LmxvY2FsU3RvcmFnZVsnWHVtbVNka0p3dCddLnNwbGl0KCc6Jyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobHNPdHREYXRhWzBdID09PSB1dWlkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gUmVzdG9yZSBmcm9tIG1lbW9yeVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvZygnUmVzdG9yaW5nIE9UVCBmcm9tIGxvY2FsU3RvcmFnZTonLCB1dWlkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gSlNPTi5wYXJzZShsc090dERhdGEuc2xpY2UoMSkuam9pbignOicpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9nKCdFcnJvciByZXN0b3JpbmcgT1RUIERhdGEgKEpXVCkgZnJvbSBsb2NhbFN0b3JhZ2UnLCAoX2EgPSBlKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EubWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNldCh1dWlkLCBvdHREYXRhKSB7XG4gICAgICAgICAgICAgICAgbG9nKCdbSnd0U3RvcmVdIMK7IEJ1aWx0aW4gSldUIHN0b3JlIFNFVCcsIHV1aWQpO1xuICAgICAgICAgICAgICAgIC8vIERlZmF1bHQgc3RvcmU6IGxvY2FsU3RvcmFnZVxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgbG9jYWxTdG9yYWdlICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICAgICAgICB3aW5kb3cubG9jYWxTdG9yYWdlWydYdW1tU2RrSnd0J10gPSB1dWlkICsgJzonICsgSlNPTi5zdHJpbmdpZnkob3R0RGF0YSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBpZiAoKF9oID0gb3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLnN0b3JlKSA9PT0gbnVsbCB8fCBfaCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2guZ2V0KSB7XG4gICAgICAgICAgICB0aGlzLnN0b3JlLmdldCA9IG9wdGlvbnMuc3RvcmUuZ2V0O1xuICAgICAgICB9XG4gICAgICAgIGlmICgoX2ogPSBvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdGlvbnMuc3RvcmUpID09PSBudWxsIHx8IF9qID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfai5zZXQpIHtcbiAgICAgICAgICAgIHRoaXMuc3RvcmUuc2V0ID0gb3B0aW9ucy5zdG9yZS5zZXQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzUmF3Snd0KSB7XG4gICAgICAgICAgICB0aGlzLnJlamVjdChuZXcgRXJyb3IoJ05vdCBpbiBPVFQgZmxvdzogaW4gcmF3IEpXVCAoT0F1dGgyLWxpa2UpIGZsb3cnKSk7XG4gICAgICAgICAgICBsb2coJ1VzaW5nIEpXVCAoUmF3LCBPQXV0aDIpIGZsb3cnKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGxvZygnVXNpbmcgSldUICh4QXBwKSBmbG93Jyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgX2p3dFN0b3JlKGludm9rZXIsIHBlcnNpc3RKd3QpIHtcbiAgICAgICAgaWYgKGludm9rZXIgJiYgKGludm9rZXIgPT09IG51bGwgfHwgaW52b2tlciA9PT0gdm9pZCAwID8gdm9pZCAwIDogaW52b2tlci5jb25zdHJ1Y3RvcikgPT09IE1ldGFfMS5NZXRhKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIGdldDogdXVpZCA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgICAgICAgICAgbG9nKCdbSnd0U3RvcmVdIFByb3h5IEdFVCcpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gKF9hID0gdGhpcy5zdG9yZSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmdldCh1dWlkKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHNldDogKHV1aWQsIG90dERhdGEpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgICAgICAgICBsb2coJ1tKd3RTdG9yZV0gUHJveHkgU0VUJyk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVzb2x2ZShvdHREYXRhLm90dCk7XG4gICAgICAgICAgICAgICAgICAgIHBlcnNpc3RKd3Qob3R0RGF0YS5qd3QpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmp3dCA9IG90dERhdGEuand0O1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gKF9hID0gdGhpcy5zdG9yZSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnNldCh1dWlkLCBvdHREYXRhKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBfand0U3RvcmUgaW52b2tlcicpO1xuICAgIH1cbiAgICBnZXRPdHREYXRhKCkge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgY29uc3QgcmVzb2x2ZWQgPSB5aWVsZCB0aGlzLm90dFJlc29sdmVkO1xuICAgICAgICAgICAgaWYgKHJlc29sdmVkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc29sdmVkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYWxsZWQgZ2V0T3R0RGF0YSBvbiBhIG5vbiBPVFQtSldUIGZsb3cnKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGdldEp3dCgpIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHlpZWxkIHRoaXMub3R0UmVzb2x2ZWQ7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5qd3Q7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBjYXVnaHQoZXJyb3IpIHtcbiAgICAgICAgdGhpcy5yZWplY3QoZXJyb3IpO1xuICAgIH1cbn1cbmV4cG9ydHMuWHVtbVNka0p3dCA9IFh1bW1TZGtKd3Q7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/xumm-sdk/dist/src/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/xumm-sdk/dist/src/utils.js":
/*!*************************************************!*\
  !*** ./node_modules/xumm-sdk/dist/src/utils.js ***!
  \*************************************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.DeferredPromise = exports.throwIfError = void 0;\nfunction throwIfError(call) {\n    var _a, _b, _c, _d, _e, _f;\n    const isFatalError = call.message !== undefined;\n    if (isFatalError) {\n        throw new Error(call.message);\n    }\n    const isError = call.next === undefined\n        && ((_b = (_a = call) === null || _a === void 0 ? void 0 : _a.meta) === null || _b === void 0 ? void 0 : _b.uuid) === undefined\n        && ((_d = (_c = call) === null || _c === void 0 ? void 0 : _c.application) === null || _d === void 0 ? void 0 : _d.uuidv4) === undefined\n        && ((_f = (_e = call) === null || _e === void 0 ? void 0 : _e.error) === null || _f === void 0 ? void 0 : _f.code) !== undefined;\n    if (isError) {\n        const e = call.error;\n        /**\n         * TODO:\n         *   add local error code list + descriptions?\n         *   (note: can be endpoint specific,)\n         */\n        throw new Error(`Error code ${e.code}, see XUMM Dev Console, reference: ${e.reference}`);\n    }\n}\nexports.throwIfError = throwIfError;\nclass DeferredPromise {\n    constructor() {\n        this.resolveFn = (_arg) => {\n            // Will be replaced by Promise fn\n        };\n        this.rejectFn = (_arg) => {\n            // Will be replaced by Promise fn\n        };\n        this.promise = new Promise((resolve, reject) => {\n            this.resolveFn = resolve;\n            this.rejectFn = reject;\n        });\n    }\n    resolve(arg) {\n        this.resolveFn(arg);\n        return this.promise;\n    }\n    reject(arg) {\n        this.rejectFn(arg);\n        return this.promise;\n    }\n}\nexports.DeferredPromise = DeferredPromise;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMveHVtbS1zZGsvZGlzdC9zcmMvdXRpbHMuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsdUJBQXVCLEdBQUcsb0JBQW9CO0FBQzlDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQ0FBc0MsT0FBTyxxQ0FBcUMsWUFBWTtBQUM5RjtBQUNBO0FBQ0Esb0JBQW9CO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9taWNyb2xlbmRlci8uL25vZGVfbW9kdWxlcy94dW1tLXNkay9kaXN0L3NyYy91dGlscy5qcz80YjkyIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5EZWZlcnJlZFByb21pc2UgPSBleHBvcnRzLnRocm93SWZFcnJvciA9IHZvaWQgMDtcbmZ1bmN0aW9uIHRocm93SWZFcnJvcihjYWxsKSB7XG4gICAgdmFyIF9hLCBfYiwgX2MsIF9kLCBfZSwgX2Y7XG4gICAgY29uc3QgaXNGYXRhbEVycm9yID0gY2FsbC5tZXNzYWdlICE9PSB1bmRlZmluZWQ7XG4gICAgaWYgKGlzRmF0YWxFcnJvcikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoY2FsbC5tZXNzYWdlKTtcbiAgICB9XG4gICAgY29uc3QgaXNFcnJvciA9IGNhbGwubmV4dCA9PT0gdW5kZWZpbmVkXG4gICAgICAgICYmICgoX2IgPSAoX2EgPSBjYWxsKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EubWV0YSkgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLnV1aWQpID09PSB1bmRlZmluZWRcbiAgICAgICAgJiYgKChfZCA9IChfYyA9IGNhbGwpID09PSBudWxsIHx8IF9jID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYy5hcHBsaWNhdGlvbikgPT09IG51bGwgfHwgX2QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9kLnV1aWR2NCkgPT09IHVuZGVmaW5lZFxuICAgICAgICAmJiAoKF9mID0gKF9lID0gY2FsbCkgPT09IG51bGwgfHwgX2UgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9lLmVycm9yKSA9PT0gbnVsbCB8fCBfZiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2YuY29kZSkgIT09IHVuZGVmaW5lZDtcbiAgICBpZiAoaXNFcnJvcikge1xuICAgICAgICBjb25zdCBlID0gY2FsbC5lcnJvcjtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRPRE86XG4gICAgICAgICAqICAgYWRkIGxvY2FsIGVycm9yIGNvZGUgbGlzdCArIGRlc2NyaXB0aW9ucz9cbiAgICAgICAgICogICAobm90ZTogY2FuIGJlIGVuZHBvaW50IHNwZWNpZmljLClcbiAgICAgICAgICovXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgRXJyb3IgY29kZSAke2UuY29kZX0sIHNlZSBYVU1NIERldiBDb25zb2xlLCByZWZlcmVuY2U6ICR7ZS5yZWZlcmVuY2V9YCk7XG4gICAgfVxufVxuZXhwb3J0cy50aHJvd0lmRXJyb3IgPSB0aHJvd0lmRXJyb3I7XG5jbGFzcyBEZWZlcnJlZFByb21pc2Uge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLnJlc29sdmVGbiA9IChfYXJnKSA9PiB7XG4gICAgICAgICAgICAvLyBXaWxsIGJlIHJlcGxhY2VkIGJ5IFByb21pc2UgZm5cbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5yZWplY3RGbiA9IChfYXJnKSA9PiB7XG4gICAgICAgICAgICAvLyBXaWxsIGJlIHJlcGxhY2VkIGJ5IFByb21pc2UgZm5cbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5wcm9taXNlID0gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5yZXNvbHZlRm4gPSByZXNvbHZlO1xuICAgICAgICAgICAgdGhpcy5yZWplY3RGbiA9IHJlamVjdDtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJlc29sdmUoYXJnKSB7XG4gICAgICAgIHRoaXMucmVzb2x2ZUZuKGFyZyk7XG4gICAgICAgIHJldHVybiB0aGlzLnByb21pc2U7XG4gICAgfVxuICAgIHJlamVjdChhcmcpIHtcbiAgICAgICAgdGhpcy5yZWplY3RGbihhcmcpO1xuICAgICAgICByZXR1cm4gdGhpcy5wcm9taXNlO1xuICAgIH1cbn1cbmV4cG9ydHMuRGVmZXJyZWRQcm9taXNlID0gRGVmZXJyZWRQcm9taXNlO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/xumm-sdk/dist/src/utils.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/xumm-sdk/dist/src/xApp.js":
/*!************************************************!*\
  !*** ./node_modules/xumm-sdk/dist/src/xApp.js ***!
  \************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.xApp = void 0;\nconst debug_1 = __webpack_require__(/*! debug */ \"(ssr)/./node_modules/debug/src/index.js\");\nconst JwtUserdata_1 = __webpack_require__(/*! ./JwtUserdata */ \"(ssr)/./node_modules/xumm-sdk/dist/src/JwtUserdata.js\");\nconst utils_1 = __webpack_require__(/*! ./utils */ \"(ssr)/./node_modules/xumm-sdk/dist/src/utils.js\");\nconst log = debug_1.debug('xumm-sdk:xapp');\nclass xApp {\n    constructor(MetaObject) {\n        log('Constructed');\n        this.Meta = MetaObject;\n        // Backwards compatibility for old Sdk.xApp.userdata users\n        // - as xApps used to be the only JWT issuing env. - PKCE now is as well\n        this.userdata = new JwtUserdata_1.JwtUserdata(MetaObject);\n    }\n    get(ott) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const call = yield this.Meta.call('xapp/ott/' + ott, 'GET');\n            utils_1.throwIfError(call);\n            return call;\n        });\n    }\n}\nexports.xApp = xApp;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMveHVtbS1zZGsvZGlzdC9zcmMveEFwcC5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiO0FBQ0EsNEJBQTRCLCtEQUErRCxpQkFBaUI7QUFDNUc7QUFDQSxvQ0FBb0MsTUFBTSwrQkFBK0IsWUFBWTtBQUNyRixtQ0FBbUMsTUFBTSxtQ0FBbUMsWUFBWTtBQUN4RixnQ0FBZ0M7QUFDaEM7QUFDQSxLQUFLO0FBQ0w7QUFDQSw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsWUFBWTtBQUNaLGdCQUFnQixtQkFBTyxDQUFDLHNEQUFPO0FBQy9CLHNCQUFzQixtQkFBTyxDQUFDLDRFQUFlO0FBQzdDLGdCQUFnQixtQkFBTyxDQUFDLGdFQUFTO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFlBQVkiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9taWNyb2xlbmRlci8uL25vZGVfbW9kdWxlcy94dW1tLXNkay9kaXN0L3NyYy94QXBwLmpzPzI2NzEiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19hd2FpdGVyID0gKHRoaXMgJiYgdGhpcy5fX2F3YWl0ZXIpIHx8IGZ1bmN0aW9uICh0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcbiAgICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQID8gdmFsdWUgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHZhbHVlKTsgfSk7IH1cbiAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cbiAgICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xuICAgIH0pO1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMueEFwcCA9IHZvaWQgMDtcbmNvbnN0IGRlYnVnXzEgPSByZXF1aXJlKFwiZGVidWdcIik7XG5jb25zdCBKd3RVc2VyZGF0YV8xID0gcmVxdWlyZShcIi4vSnd0VXNlcmRhdGFcIik7XG5jb25zdCB1dGlsc18xID0gcmVxdWlyZShcIi4vdXRpbHNcIik7XG5jb25zdCBsb2cgPSBkZWJ1Z18xLmRlYnVnKCd4dW1tLXNkazp4YXBwJyk7XG5jbGFzcyB4QXBwIHtcbiAgICBjb25zdHJ1Y3RvcihNZXRhT2JqZWN0KSB7XG4gICAgICAgIGxvZygnQ29uc3RydWN0ZWQnKTtcbiAgICAgICAgdGhpcy5NZXRhID0gTWV0YU9iamVjdDtcbiAgICAgICAgLy8gQmFja3dhcmRzIGNvbXBhdGliaWxpdHkgZm9yIG9sZCBTZGsueEFwcC51c2VyZGF0YSB1c2Vyc1xuICAgICAgICAvLyAtIGFzIHhBcHBzIHVzZWQgdG8gYmUgdGhlIG9ubHkgSldUIGlzc3VpbmcgZW52LiAtIFBLQ0Ugbm93IGlzIGFzIHdlbGxcbiAgICAgICAgdGhpcy51c2VyZGF0YSA9IG5ldyBKd3RVc2VyZGF0YV8xLkp3dFVzZXJkYXRhKE1ldGFPYmplY3QpO1xuICAgIH1cbiAgICBnZXQob3R0KSB7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICBjb25zdCBjYWxsID0geWllbGQgdGhpcy5NZXRhLmNhbGwoJ3hhcHAvb3R0LycgKyBvdHQsICdHRVQnKTtcbiAgICAgICAgICAgIHV0aWxzXzEudGhyb3dJZkVycm9yKGNhbGwpO1xuICAgICAgICAgICAgcmV0dXJuIGNhbGw7XG4gICAgICAgIH0pO1xuICAgIH1cbn1cbmV4cG9ydHMueEFwcCA9IHhBcHA7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/xumm-sdk/dist/src/xApp.js\n");

/***/ })

};
;